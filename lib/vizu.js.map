{"version":3,"sources":["node_modules/browser-pack/_prelude.js","index.js","src/component.js","src/private/animate.js","src/private/overslash.js","src/private/utilities.js","src/vizu.js"],"names":[],"mappings":"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","file":"vizu.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Component from './src/component';\nimport Vizu from './src/vizu';\n\nexport default { Component, Vizu };\n","/* global document */\n/* eslint indent: [\"error\", 2, { \"VariableDeclarator\": { \"var\": 1, \"let\": 1, \"const\": 2 } }] */\n/* eslint one-var: 0 */\n// -- Vendor modules\n\n// -- Local modules\nimport Vizu from './vizu';\nimport Anim from './private/animate';\nimport _ from './private/overslash';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\n/**\n* This class defines the web component.\n*\n* @namespace vizu\n*/\nclass Component {\n/**\n * Creates an unique ID for this component.\n *\n * @constructor ()\n * @public\n * @param {}          -,\n */\n  constructor() {\n    // Create an unique id for this component:\n    this.id = `i${Math.random().toString(36).substr(2, 7)}`;\n    this.cList = null;\n    this.components = null;\n    this.props = {};\n    this.props.options = {};\n  }\n\n  /**\n   * Initialises the variables when the component is rendered.\n   *\n   * @method ()\n   * @public\n   * @param {}        -,\n   * @returns {}      -,\n   * @since 0.0.0\n   */\n  getInitialState() {\n    // To avoid eslint error!\n    this.props = {};\n    this.props.options = {};\n  }\n\n  /**\n   * Returns the the first element that matches the specified CSS selector(s).\n   *\n   * @method (arg1)\n   * @public\n   * @param {String}    the CSS selector(s),\n   * @returns {Object}  returns the first element that matches a specified\n   *                    CSS selector(s),\n   * @since 0.0.0\n   */\n  $(el) {\n    const that = this\n        , docu = Vizu.vdom ? Vizu.vdom.window.document : document\n        ;\n\n    /**\n     * Returns the the first element that matches the specified CSS selector(s).\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the CSS selector(s),\n     * @returns {Object}  returns the first element that matches a specified\n     *                    CSS selector(s),\n     * @since 0.0.0\n     */\n    const getElement = function() {\n      if (el) {\n        // Returns the the first element that matches the selector(s):\n        return docu.querySelector(`#${that.id}`).querySelector(el);\n      }\n      // Return the entire 'web component':\n      return docu.querySelector(`#${that.id}`);\n    };\n\n    /**\n     * Gets/Sets the HTML contents of the element,\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the html contents to add,\n     * @returns {String}  returns the node DOMString or this,\n     * @since 0.0.0\n     */\n    const html = function(xmlString) {\n      if (xmlString) {\n        getElement().innerHTML = xmlString;\n        return this;\n      }\n      return getElement().innerHTML;\n    };\n\n    /**\n     * Removes all the childs of the current node.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns this,\n     * @since 0.0.4\n     */\n    const empty = function() {\n      const node = getElement();\n      while (node.firstChild) {\n        node.removeChild(node.firstChild);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string after the last child of the current node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.4\n     */\n    const append = function(xmlString) {\n      if (typeof xmlString === 'string') {\n        getElement().insertAdjacentHTML('beforeend', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string before the first child of the current node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const prepend = function(xmlString) {\n      if (typeof xmlString === 'string') {\n        getElement().insertAdjacentHTML('afterbegin', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string after the current node.\n     *\n     * Nota: this method adds a node after the current node only if it is\n     * a child node of this component. 'after' is forbidden on the root node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const after = function(xmlString) {\n      const elem = getElement();\n      if (typeof xmlString === 'string' && elem.id !== that.id) {\n        elem.insertAdjacentHTML('afterend', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string before the current node.\n     *\n     * Nota: this method adds a node before the current node only if it is\n     * a child node of this component. 'before' is forbidden on the root node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const before = function(xmlString) {\n      const elem = getElement();\n      if (typeof xmlString === 'string' && elem.id !== that.id) {\n        getElement().insertAdjacentHTML('beforebegin', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Replaces the current node with the given DOMString.\n     *\n     * Nota: this method replaces the current node only if it is\n     * a child node of this component. 'replaceWith' is forbidden on the root node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const replaceWith = function(xmlString) {\n      const oldChild = getElement()\n          , parent   = oldChild.parentNode\n          // , index    =  Array.prototype.indexOf.call(parent.children, oldChild)\n          , wrapper  = docu.createElement('div')\n          ;\n      let newChild\n        ;\n\n      if (typeof xmlString === 'string' && oldChild.id !== that.id) {\n        // Replace the old child by new one:\n        wrapper.innerHTML = xmlString;\n        newChild = wrapper.firstChild;\n        parent.replaceChild(newChild, oldChild);\n      }\n      return this;\n    };\n\n    /**\n     * Gets/Sets the text contents of the element,\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the text contents to add,\n     * @returns {String}  returns the text contents or this;,\n     * @since 0.0.0\n     */\n    const text = function(texte) {\n      if (texte) {\n        getElement().textContent = texte;\n        return this;\n      }\n      return getElement().textContent;\n    };\n\n    /**\n     * Gets/Sets the style attribute of the element,\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the style attribute,\n     * @param {String}    the style attribute value,\n     * @returns {String}  returns the style attribute value or this,\n     * @since 0.0.3\n     */\n    const css = function(styleAttr, value) {\n      const arr = typeof styleAttr === 'string' ? styleAttr.split('-') : [];\n      let attr = '';\n\n      // Convert style attribute name with '-' (ex.: 'font-size' to 'fontSize'):\n      for (let i = 0; i < arr.length; i++) {\n        if (i === 0) {\n          attr += arr[i];\n        } else {\n          attr += arr[i].charAt(0).toUpperCase() + arr[i].slice(1);\n        }\n      }\n\n      if (!value) {\n        // Get attribute:\n        return getElement().style[attr];\n      }\n\n      // Set attribute:\n      getElement().style[attr] = value;\n      return this;\n    };\n\n    /**\n     * Returns the DOMTokenList collection of the class attributes of the element.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns the DOMTokenList of the element,\n     * @since 0.0.0\n     */\n    const getClassList = function() {\n      return getElement().classList;\n    };\n\n    /**\n     * Adds a class name to the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the class name to add,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const addClass = function(className) {\n      getElement().classList.add(className);\n      return this;\n    };\n\n    /**\n     * Removes a class name from the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the class name to remove,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const removeClass = function(className) {\n      getElement().classList.remove(className);\n      return this;\n    };\n\n    /**\n     * Toggles a class name for the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the class name to add/remove,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const toggleClass = function(className) {\n      getElement().classList.toggle(className);\n      return this;\n    };\n\n    /**\n     * Sets or Gets the specified attribute.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the attribute name,\n     * @param {String}    the attribute value,\n     * @returns {String}  returns the attribute value or this,\n     * @since 0.0.6\n     */\n    const attr = function(attribute, value) {\n      if (value) {\n        getElement().setAttribute(attribute, value);\n        return this;\n      }\n      return getElement().getAttribute(attribute);\n    };\n\n    /**\n     * Removes the specified attribute.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the attribute name,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const removeAttr = function(attribute) {\n      if (attribute) {\n        getElement().removeAttribute(attribute);\n      }\n      return this;\n    };\n\n    /**\n     * Performs a custom animation of a set of CSS properties.\n     *\n     * @method (properties [, duration ] [, easing ] [, complete ])\n     * @public\n     * @param {Object}    An object of CSS properties,\n     * @param {Number}    define how long the animation run,\n     * @param {Easing}    the easing animation method,\n     * @param {Function}  the function to call at completion,\n     * @returns {Object}  returns this,\n     * @since 0.0.7\n     */\n    const animate = function(properties, ...args) {\n      const DTIME = 400\n          , FAST  = 200\n          , SLOW  = 600\n          , INC   = 10\n          , elem  = getElement()\n          , delay = INC\n          ;\n\n      // Is the argument properties an object?\n      if (!_.isLiteralObject(properties)) {\n        return this;\n      }\n\n      // Extract the optional arguments:\n      const argus = Anim.extractArgs(args);\n\n      // Set the duration:\n      const duration = _.isNumber(argus.duration)\n        ? argus.duration\n        : (function(arg) {\n          if (arg === 'fast') return FAST;\n          if (arg === 'slow') return SLOW;\n          return DTIME;\n        }(argus.duration));\n\n      // Set the easing (swing only for the time being):\n      const easing = (Anim.easing && Anim.easing[argus.easing])\n        ? Anim.easing[argus.easing]\n        : Anim.swing;\n\n      // Set the callback:\n      const callback = argus.callback ? argus.callback : null;\n\n      // Run the animation:\n      Anim.run(elem, properties, easing, duration, delay, callback);\n\n      // Test Mode:\n      if (Vizu.vdom) {\n        this.probe = {\n          duration,\n          easing: (Anim.easing && Anim.easing[argus.easing]) ? argus.easing : 'swing',\n          callback,\n        };\n      }\n\n      return this;\n    };\n\n    /**\n     * Attachs an event listener to the current node.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the DOM event string,\n     * @param {Function}  the listner function,\n     * @returns {Object}  returns this,\n     * @since 0.0.5\n     */\n    const on = function(event, listener) {\n      getElement().addEventListener(event, listener);\n      return this;\n    };\n\n    /**\n     * Removes an event listener from the current node.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the DOM event string,\n     * @param {Function}  the listner function,\n     * @returns {Object}  returns this,\n     * @since 0.0.5\n     */\n    const off = function(event, listener) {\n      getElement().removeEventListener(event, listener);\n      return this;\n    };\n\n    return {\n      id: getElement() ? getElement().id : null,\n      getElement,\n      html,\n      empty,\n      append,\n      prepend,\n      after,\n      before,\n      replaceWith,\n      text,\n      css,\n      getClassList,\n      addClass,\n      removeClass,\n      toggleClass,\n      attr,\n      removeAttr,\n      animate,\n      on,\n      off,\n    };\n  }\n\n  /**\n   * Attaches event(s) to the given node.\n   *\n   * @method (arg1, arg2)\n   * @public\n   * @param {String}    the DOM event name,\n   * @param {Function}  the event listener,\n   * @returns {Funtion} returns this,\n   * @since 0.0.5\n   */\n  /* istanbul ignore next */\n  events() {\n    // Just to avoid eslint error!\n    return this;\n  }\n\n  /**\n   * Returns the defined web component.\n   *\n   * @method ()\n   * @public\n   * @param {}          -,\n   * @returns {String}  returns the web component,\n   * @since 0.0.0\n   */\n  /* istanbul ignore next */\n  render() {\n    return `<div>${this.id}</div>`;\n  }\n\n  /**\n   * Processes the web component to convert child(s) to plain HTML.\n   *\n   * @method ()\n   * @private\n   * @param {}          -,\n   * @returns {String}  returns the web component,\n   * @since 0.0.0\n   */\n  get rendered() {\n    let t;\n    // Initializes:\n    this.getInitialState();\n    // Add an unique ID to this component:\n    // let t = this.render().replace(/<div>/, `<div id=\"${this.id}\">`);\n    const co = this.render();\n    if (co.match(/^\\s*<div/)) {\n      t = co.replace(/^\\s*<div/, `<div id= \"${this.id}\"`);\n    } else if (co.match(/^\\s*<header/)) {\n      t = co.replace(/^\\s*<header/, `<header id= \"${this.id}\"`);\n    } else if (co.match(/^\\s*<footer/)) {\n      t = co.replace(/^\\s*<footer/, `<footer id= \"${this.id}\"`);\n    } else {\n      t = co;\n    }\n\n    if (this.cList) {\n      // This component includes components, render them:\n      this.components = {};\n      const keys = Object.keys(this.cList);\n      for (let i = 0; i < keys.length; i++) {\n        const c = new this.cList[keys[i]]();\n        t = t.replace(keys[i], c.rendered);\n        this.components[keys[i].replace(/[^a-zA-z0-9]/g, '')] = c;\n      }\n    }\n    // Return the rendered web component:\n    return t;\n  }\n\n  /**\n   * Processes the web component events.\n   *\n   * @method ()\n   * @private\n   * @param {}          -,\n   * @returns {}        -,\n   * @since 0.0.5\n   */\n  get evented() {\n    this.events();\n  }\n}\n\nexport default Component;\n","/* global */\n/* eslint one-var: 0 */\n\n// -- Vendor modules\n\n// -- Local modules\nimport _ from './overslash';\nimport u from './utilities';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\nexport default {\n\n  /**\n   * Extracts the optional argument of 'animate'.\n   *\n   * @function (arg1, arg2, arg3)\n   * @private\n   * @param {?}         duration, easing or callback,\n   * @param {?}         easing or callback,\n   * @param {Object}    the function to call at completion,\n   * @returns {Object}  returns an object with the properties duration, easing\n   *                    and callback,\n   * @since 0.0.7\n   */\n  extractArgs(...arg) {\n    const nb = arg[0].length\n        , args = arg[0]\n        ;\n\n    let duration\n      , easing\n      , callback\n      ;\n\n    switch (nb) {\n      case 0:\n        break;\n\n      case 1:\n        if (_.isNumber(args[0]) || args[0] === 'fast' || args[0] === 'slow') {\n          duration = args[0];\n        } else if (_.isString(args[0])) {\n          easing = args[0];\n        } else if (_.isFunction(args[0])) {\n          callback = args[0];\n        }\n        break;\n\n      case 2:\n        if (_.isNumber(args[0]) || args[0] === 'fast' || args[0] === 'slow') {\n          duration = args[0];\n          if (_.isString(args[1])) {\n            easing = args[1];\n          } else if (_.isFunction(args[1])) {\n            callback = args[1];\n          }\n        } else if (_.isString(args[0])) {\n          easing = args[0];\n          if (_.isFunction(args[1])) {\n            callback = args[1];\n          }\n        }\n        break;\n\n      case 3:\n        if (_.isNumber(args[0]) || args[0] === 'fast' || args[0] === 'slow') {\n          duration = args[0];\n        }\n        if (_.isString(args[1])) {\n          easing = args[1];\n        }\n        if (_.isFunction(args[2])) {\n          callback = args[2];\n        }\n        break;\n\n      /* istanbul ignore next */\n      default:\n        break;\n    }\n    return {\n      duration,\n      easing,\n      callback,\n    };\n  },\n\n  /**\n   * Retrieves the CSS property values for the given node.\n   *\n   * @function (arg1, arg2)\n   * @private\n   * @param {Object}    the given node,\n   * @param {Object}    the CSS properties to animate,\n   * @returns {Object}  returns an object with the properties initial, change, suffix\n   *                    per animated property,\n   * @since 0.0.7\n   */\n  getProps(el, properties) {\n    const keys = Object.keys(properties)\n        , props = {}\n        , names = []\n        ;\n\n    let name\n      , i\n      ;\n\n    // Parse the properties:\n    for (i = 0; i < keys.length; i++) {\n      // Normalize the name of the property:\n      name = u.normalizeCssPropertyName(keys[i]);\n      // Check it is a valid CSS property:\n      if (el.style[name]) {\n        names.push(name);\n        props[name] = {\n          initial: parseFloat(el.style[name], 10),\n          change: parseFloat(properties[keys[i]]) - parseFloat(el.style[name]),\n          suffix: el.style[name].replace(/[0-9.]/g, ''),\n        };\n      }\n    }\n    props.name = names;\n    return props;\n  },\n\n  /**\n   * Updates dynamically the CSS properties from their initial value to their final.\n   *\n   * @function (arg1, arg2, arg3, arg4, arg5, arg6)\n   * @private\n   * @param {Object}    the given node,\n   * @param {Object}    the CSS properties to update,\n   * @param {Function}  the easing method,\n   * @param {Number}    the animation duration,\n   * @param {Number}    the animation step,\n   * @param {Function}  the function to call at the completion,\n   * @returns {}        -,\n   * @since 0.0.7\n   */\n  run(el, properties, easing, duration, delay, callback) {\n    const props = this.getProps(el, properties)\n        , elem = el\n        ;\n\n    let lapseOfTime = 0\n      ;\n\n    const timer = setInterval(() => {\n      lapseOfTime += delay;\n      if (lapseOfTime > duration) {\n        clearInterval(timer);\n        if (callback) callback();\n      }\n      // easing:\n      for (let i = 0; i < props.name.length; i++) {\n        elem.style[props.name[i]] = easing(\n          lapseOfTime,\n          props[props.name[i]].initial,\n          props[props.name[i]].change,\n          duration) + props[props.name[i]].suffix;\n      }\n    }, delay);\n  },\n\n  /**\n   * The default easing method (if PicoQ.easing.e() aren't provided).\n   *\n   * @function (arg1, arg2, arg3, arg4)\n   * @private\n   * @param {Number}    the current lapse time,\n   * @param {Number}    the initial CSS property value,\n   * @param {Number}    the difference between the final and the initial value,\n   * @param {Number}    the animation duration,\n   * @returns {Number}  returns the value of the CSS property at the current lapse time,\n   * @since 0.0.7\n   */\n  /* eslint-disable no-mixed-operators */\n  swing(t, b, c, d) {\n    return c * (0.5 - Math.cos(t / d * Math.PI) / 2) + b;\n  }, /* eslint-enable no-mixed-operators */\n}; /* eslint-enable no-underscore-dangle */\n","/* global */\n/* eslint one-var: 0 */\n\n// -- Vendor modules\n\n// -- Local modules\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\nexport default {\n\n  /**\n   * Is a given value a string?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}      the object to test,\n   * @returns {Boolean}   returns true or false,\n   * @since 0.0.7\n   */\n  isString(obj) {\n    return Object.prototype.toString.call(obj) === '[object String]';\n  },\n\n  /**\n   * Is a given value a number?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}      the object to test,\n   * @returns {Boolean}   returns true or false,\n   * @since 0.0.7\n   */\n  isNumber(obj) {\n    return Object.prototype.toString.call(obj) === '[object Number]';\n  },\n\n  /**\n   * Is a given variable a literal object?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}    the object to test,\n   * @returns {Boolean} returns true or false,\n   * @since 0.0.7\n   */\n  isLiteralObject(obj) {\n    return Object.prototype.toString.call(obj) === '[object Object]';\n  },\n\n  /**\n   * Is a given variable a function?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}    the object to test,\n   * @returns {Boolean} returns true or false,\n   * @since 0.0.7\n   */\n  isFunction(obj) {\n    return Object.prototype.toString.call(obj) === '[object Function]';\n  },\n};\n","/* global */\n/* eslint one-var: 0 */\n\n// -- Vendor modules\n\n// -- Local modules\nimport _ from './overslash';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\nexport default {\n\n  /**\n   * Normalizes the CSS properties.\n   * (replace '-' between composite name by camelcase style).\n   * Ex: font-size -> fontSize\n   *\n   * @function (arg1)\n   * @private\n   * @param {String}    the CSS property name,\n   * @returns {String}  the normalized CSS property name,\n   * @since 0.0.7\n   */\n  normalizeCssPropertyName(name) {\n    const arr = _.isString(name) ? name.split('-') : []\n        ;\n\n    let normalized = ''\n      ;\n\n    // Convert name with '-' (ex.: 'font-size' to 'fontSize'):\n    for (let i = 0; i < arr.length; i++) {\n      if (i === 0) {\n        normalized += arr[i];\n      } else {\n        normalized += arr[i].charAt(0).toUpperCase() + arr[i].slice(1);\n      }\n    }\n    return normalized;\n  },\n};\n","/* global document */\n/* eslint indent: [\"error\", 2, { \"VariableDeclarator\": { \"var\": 1, \"let\": 1, \"const\": 2 } }] */\n/* eslint one-var: 0, no-param-reassign: 0, max-len: [1, 130],\n  no-unused-expressions: [\"error\", { \"allowTernary\": true }], no-underscore-dangle: 0,\n  no-proto: 1, prefer-rest-params: 1 */\n\n// -- Vendor modules\n\n// -- Local modules\nimport Component from './component';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Private Functions --------------------------------------------------------\n\n/**\n * Returns the path of the matching Web Component.\n *\n * @function ()\n * @private\n * @param {Object}    the view object,\n * @param {String}    the tag defining a Web Component\n * @returns {Object}  the path of the matching Web Component,\n */\nconst explore = function(view, tag) {\n  if (view.cList && view.cList[tag]) {\n    return view;\n  }\n  const keys = Object.keys(view);\n  for (let i = 0; i < keys.length; i++) {\n    if (view[keys[i]].cList) {\n      if (view[keys[i]].cList[tag]) {\n        return view[keys[i]];\n      }\n      if (view[keys[i]].components) {\n        return explore(view[keys[i]].components, tag);\n      }\n    }\n  }\n  return null;\n};\n\n/**\n * Attaches events to the rendered components.\n *\n * @function (arg1)\n * @private\n * @param {Object}    the view object,\n * @returns {}        -,\n */\nconst attachEvents = function(view) {\n  /* eslint-disable no-unused-expressions */\n  if (view.cList) {\n    const keys = Object.keys(view.cList);\n    let fn;\n\n    for (let i = 0; i < keys.length; i++) {\n      if (!view.components) {\n        // Extract components at the first level:\n        fn = view[keys[i].replace(/[^a-zA-z0-9]/g, '')];\n      } else {\n        // Extract components at levels n + 1:\n        fn = view.components[keys[i].replace(/[^a-zA-z0-9]/g, '')];\n      }\n      // Run Component events function:\n      fn.evented;\n      // Process sub components recursively:\n      attachEvents(fn);\n    }\n  }\n}; /* eslint-enable no-unused-expressions */\n\n/**\n * Code reused from Babel\n */\nconst _createClass = (function() {\n  function defineProperties(target, props) {\n    for (let i = 0; i < props.length; i++) {\n      const descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true;\n      if ('value' in descriptor) {\n        descriptor.writable = true;\n      }\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function(Constructor, protoProps, staticProps) {\n    if (protoProps) {\n      defineProperties(Constructor.prototype, protoProps);\n    }\n    if (staticProps) {\n      /* istanbul ignore next */\n      defineProperties(Constructor, staticProps);\n    }\n    return Constructor;\n  };\n}());\n\n/**\n * Code reused from Babel\n */\nconst _possibleConstructorReturn = function(self, call) {\n  if (!self) {\n    /* istanbul ignore next */\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === 'object' || typeof call === 'function') ? call : self;\n};\n\n/**\n * Code reused from Babel\n */\nconst _inherits = function(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    /* istanbul ignore next */\n    throw new TypeError(`Super expression must either be null or a function, not ${typeof superClass}`);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true,\n    } });\n\n  if (superClass) {\n    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n};\n\n/**\n * Code reused from Babel\n */\nconst _classCallCheck = function(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    /* istanbul ignore next */\n    throw new TypeError('Cannot call a class as a function');\n  }\n};\n\n/**\n * Code reused from Babel\n */\nconst _subClass = function(SuperClass, m) {\n  function SubClass() {\n    _classCallCheck(this, SubClass);\n    return _possibleConstructorReturn(this, (SubClass.__proto__ || Object.getPrototypeOf(SubClass)).apply(this, arguments));\n  }\n  _inherits(SubClass, SuperClass);\n\n  _createClass(SubClass, m);\n\n  return SubClass;\n};\n\n\n// -- Public Methods -----------------------------------------------------------\n\n/**\n* This library renders the View in the DOM.\n*\n* @namespace Vizu\n*/\nconst Vizu = {\n\n  /**\n   * Returns the version of this library.\n   *\n   * @method ()\n   * @public\n   * @param {}          -,\n   * @returns {String}  returns the version of this library,\n   */\n  version() {\n    return '{{lib:version}}';\n  },\n\n  /**\n   * Renders the View in the DOM.\n   *\n   * @method (arg1, arg2, arg3)\n   * @public\n   * @param {String}    the aggregated web components,\n   * @param {Object}    the list of web components and their reference,\n   * @param {Object}    the DOM element where the view (the aggregate of web components) is inserted,\n   * @returns {Object}  returns the view object,\n   * @since 0.0.0\n   */\n  render(template, cList, el) {\n    const keys = Object.prototype.toString.call(cList) === '[object Object]' ? Object.keys(cList) : []\n        , view = {}\n        ;\n    let t;\n\n    // Return null if the template is not a string:\n    if (typeof template !== 'string') {\n      return null;\n    }\n\n    // If no components, render the template as is:\n    if (!cList) {\n      if (el) {\n        el.innerHTML = template;\n      } else {\n        Vizu.vdom\n          ? (Vizu.vdom.window.document.body.innerHTML += template)\n          : (document.body.innerHTML += template);\n      }\n      return null;\n    }\n\n    // This view includes components, render them:\n    t = template;\n    for (let i = 0; i < keys.length; i++) {\n      const c = new cList[keys[i]]();\n      t = t.replace(keys[i], c.rendered);\n      view[keys[i].replace(/[^a-zA-z0-9]/g, '')] = c;\n    }\n    // Attach cList:\n    view.cList = keys.length > 0 ? cList : null;\n\n    // Fill the DOM:\n    if (el) {\n      el.innerHTML = t;\n    } else {\n      el = Vizu.vdom ? Vizu.vdom.window.document.body : document.body;\n      // Attach the component to the body as the first child:\n      el.innerHTML = t + el.innerHTML;\n    }\n\n    // Attach event(s)\n    // parse all components and for each component execute evented!\n    attachEvents(view);\n\n    // Attach parent element:\n    view.el = el;\n\n    // Return the rendered object (with a reference to all the web components):\n    return view;\n  },\n\n  /**\n   * Replaces a component with another component having the same tag.\n   *\n   * @method (arg1, arg2)\n   * @public\n   * @param {Object}    the view object,\n   * @param {Object}    the new component ({ '<Aaa />': 'new class' }),\n   * @returns {}        -,\n   * @since 0.0.0\n   */\n  replace(view, component) {\n    let id\n      , type\n      ;\n\n    // Check that view is an object with, at least, the properties cList and el:\n    if (Object.prototype.toString.call(view) !== '[object Object]' || !view.cList || !view.el) {\n      return;\n    }\n\n    // Check that component is an object:\n    if (Object.prototype.toString.call(component) !== '[object Object]') {\n      return;\n    }\n\n    // Process the new component:\n    const newctag = Object.keys(component)[0];\n    const newcname = newctag.replace(/[^a-zA-z0-9]/g, '');\n    const newc = new component[newctag]();\n\n    // Check if a component with the same name already exists in the view:\n    const path = explore(view, newctag);\n    if (path) {\n      // Get its id and remove it:\n      if (path[newcname]) {\n        id = path[newcname].id;\n        path[newcname] = null;\n        type = 1;\n      } else {\n        id = path.components[newcname].id;\n        path.components[newcname] = null;\n        type = 2;\n      }\n      path.cList[newctag] = null;\n\n      // Get its id and clear it:\n      const wrapper = Vizu.vdom\n        ? Vizu.vdom.window.document.createElement('div')\n        : document.createElement('div');\n\n      const oldNode = Vizu.vdom\n        ? Vizu.vdom.window.document.getElementById(id)\n        : document.getElementById(id);\n\n      wrapper.innerHTML = newc.rendered;\n      oldNode.parentNode.replaceChild(wrapper.firstChild, oldNode);\n\n      // Attach the new node to view:\n      if (type === 1) {\n        path[newcname] = newc;\n      } else {\n        path.components[newcname] = newc;\n      }\n      path.cList[newctag] = component[newctag];\n    }\n  },\n\n  /**\n   * Extends the class Component.\n   *\n   * @method (arg1)\n   * @public\n   * @param {Object}    the methods to add to Component,\n   * @returns {Object}  returns the extended class component,\n   * @since 0.0.3\n   */\n  createClass(methods) {\n    // Check that methods is an object:\n    if (Object.prototype.toString.call(methods) !== '[object Object]') {\n      return null;\n    }\n\n    // Extract keys:\n    const keys = Object.keys(methods);\n    const o = [];\n    for (let i = 0; i < keys.length; i++) {\n      o.push({\n        key: keys[i],\n        value: methods[keys[i]],\n      });\n    }\n\n    return _subClass(Component, o);\n  },\n};\n\nexport default Vizu;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJpbmRleC5qcyIsInNyYy9jb21wb25lbnQuanMiLCJzcmMvcHJpdmF0ZS9hbmltYXRlLmpzIiwic3JjL3ByaXZhdGUvb3ZlcnNsYXNoLmpzIiwic3JjL3ByaXZhdGUvdXRpbGl0aWVzLmpzIiwic3JjL3ZpenUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQTs7OztBQUNBOzs7Ozs7a0JBRWUsRUFBRSw4QkFBRixFQUFhLG9CQUFiLEU7Ozs7Ozs7Ozs7cWpCQ0hmO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBRUE7OztBQUdBOztBQUVBOzs7OztJQUtNLFM7QUFDTjs7Ozs7OztBQU9FLHVCQUFjO0FBQUE7O0FBQ1o7QUFDQSxTQUFLLEVBQUwsU0FBYyxLQUFLLE1BQUwsR0FBYyxRQUFkLENBQXVCLEVBQXZCLEVBQTJCLE1BQTNCLENBQWtDLENBQWxDLEVBQXFDLENBQXJDLENBQWQ7QUFDQSxTQUFLLEtBQUwsR0FBYSxJQUFiO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsU0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLFNBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsRUFBckI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7OztzQ0FTa0I7QUFDaEI7QUFDQSxXQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsV0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixFQUFyQjtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7O3NCQVVFLEUsRUFBSTtBQUNKLFVBQU0sT0FBTyxJQUFiO0FBQUEsVUFDTSxPQUFPLGVBQUssSUFBTCxHQUFZLGVBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsUUFBN0IsR0FBd0MsUUFEckQ7O0FBSUE7Ozs7Ozs7Ozs7QUFVQSxVQUFNLGFBQWEsU0FBYixVQUFhLEdBQVc7QUFDNUIsWUFBSSxFQUFKLEVBQVE7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TUFBNEMsaUJBQWhELEVBQW1FO0FBQ2pFLGFBQU8sSUFBUDtBQUNEOztBQUVEO0FBQ0EsUUFBTSxPQUFPLE9BQU8sSUFBUCxDQUFZLE9BQVosQ0FBYjtBQUNBLFFBQU0sSUFBSSxFQUFWO0FBQ0EsU0FBSyxJQUFJLElBQUksQ0FBYixFQUFnQixJQUFJLEtBQUssTUFBekIsRUFBaUMsR0FBakMsRUFBc0M7QUFDcEMsUUFBRSxJQUFGLENBQU87QUFDTCxhQUFLLEtBQUssQ0FBTCxDQURBO0FBRUwsZUFBTyxRQUFRLEtBQUssQ0FBTCxDQUFSO0FBRkYsT0FBUDtBQUlEOztBQUVELFdBQU8sK0JBQXFCLENBQXJCLENBQVA7QUFDRDtBQTNLVSxDQUFiOztrQkE4S2UsSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vc3JjL2NvbXBvbmVudCc7XG5pbXBvcnQgVml6dSBmcm9tICcuL3NyYy92aXp1JztcblxuZXhwb3J0IGRlZmF1bHQgeyBDb21wb25lbnQsIFZpenUgfTtcbiIsIi8qIGdsb2JhbCBkb2N1bWVudCAqL1xuLyogZXNsaW50IGluZGVudDogW1wiZXJyb3JcIiwgMiwgeyBcIlZhcmlhYmxlRGVjbGFyYXRvclwiOiB7IFwidmFyXCI6IDEsIFwibGV0XCI6IDEsIFwiY29uc3RcIjogMiB9IH1dICovXG4vKiBlc2xpbnQgb25lLXZhcjogMCAqL1xuLy8gLS0gVmVuZG9yIG1vZHVsZXNcblxuLy8gLS0gTG9jYWwgbW9kdWxlc1xuaW1wb3J0IFZpenUgZnJvbSAnLi92aXp1JztcbmltcG9ydCBBbmltIGZyb20gJy4vcHJpdmF0ZS9hbmltYXRlJztcbmltcG9ydCBfIGZyb20gJy4vcHJpdmF0ZS9vdmVyc2xhc2gnO1xuXG4vLyAtLSBHbG9iYWwgY29uc3RhbnRzIChpbiB0aGUgc2NvcGUgb2YgdGhpcyBtb2R1bGUpXG5cblxuLy8gLS0gUHVibGljIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4qIFRoaXMgY2xhc3MgZGVmaW5lcyB0aGUgd2ViIGNvbXBvbmVudC5cbipcbiogQG5hbWVzcGFjZSB2aXp1XG4qL1xuY2xhc3MgQ29tcG9uZW50IHtcbi8qKlxuICogQ3JlYXRlcyBhbiB1bmlxdWUgSUQgZm9yIHRoaXMgY29tcG9uZW50LlxuICpcbiAqIEBjb25zdHJ1Y3RvciAoKVxuICogQHB1YmxpY1xuICogQHBhcmFtIHt9ICAgICAgICAgIC0sXG4gKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLy8gQ3JlYXRlIGFuIHVuaXF1ZSBpZCBmb3IgdGhpcyBjb21wb25lbnQ6XG4gICAgdGhpcy5pZCA9IGBpJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNyl9YDtcbiAgICB0aGlzLmNMaXN0ID0gbnVsbDtcbiAgICB0aGlzLmNvbXBvbmVudHMgPSBudWxsO1xuICAgIHRoaXMucHJvcHMgPSB7fTtcbiAgICB0aGlzLnByb3BzLm9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXNlcyB0aGUgdmFyaWFibGVzIHdoZW4gdGhlIGNvbXBvbmVudCBpcyByZW5kZXJlZC5cbiAgICpcbiAgICogQG1ldGhvZCAoKVxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7fSAgICAgICAgLSxcbiAgICogQHJldHVybnMge30gICAgICAtLFxuICAgKiBAc2luY2UgMC4wLjBcbiAgICovXG4gIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICAvLyBUbyBhdm9pZCBlc2xpbnQgZXJyb3IhXG4gICAgdGhpcy5wcm9wcyA9IHt9O1xuICAgIHRoaXMucHJvcHMub3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgc3BlY2lmaWVkIENTUyBzZWxlY3RvcihzKS5cbiAgICpcbiAgICogQG1ldGhvZCAoYXJnMSlcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIENTUyBzZWxlY3RvcihzKSxcbiAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIGEgc3BlY2lmaWVkXG4gICAqICAgICAgICAgICAgICAgICAgICBDU1Mgc2VsZWN0b3IocyksXG4gICAqIEBzaW5jZSAwLjAuMFxuICAgKi9cbiAgJChlbCkge1xuICAgIGNvbnN0IHRoYXQgPSB0aGlzXG4gICAgICAgICwgZG9jdSA9IFZpenUudmRvbSA/IFZpenUudmRvbS53aW5kb3cuZG9jdW1lbnQgOiBkb2N1bWVudFxuICAgICAgICA7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNwZWNpZmllZCBDU1Mgc2VsZWN0b3IocykuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIENTUyBzZWxlY3RvcihzKSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgYSBzcGVjaWZpZWRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgQ1NTIHNlbGVjdG9yKHMpLFxuICAgICAqIEBzaW5jZSAwLjAuMFxuICAgICAqL1xuICAgIGNvbnN0IGdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChlbCkge1xuICAgICAgICAvLyBSZXR1cm5zIHRoZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgdGhlIHNlbGVjdG9yKHMpOlxuICAgICAgICByZXR1cm4gZG9jdS5xdWVyeVNlbGVjdG9yKGAjJHt0aGF0LmlkfWApLnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgICAgfVxuICAgICAgLy8gUmV0dXJuIHRoZSBlbnRpcmUgJ3dlYiBjb21wb25lbnQnOlxuICAgICAgcmV0dXJuIGRvY3UucXVlcnlTZWxlY3RvcihgIyR7dGhhdC5pZH1gKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cy9TZXRzIHRoZSBIVE1MIGNvbnRlbnRzIG9mIHRoZSBlbGVtZW50LFxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBodG1sIGNvbnRlbnRzIHRvIGFkZCxcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAgcmV0dXJucyB0aGUgbm9kZSBET01TdHJpbmcgb3IgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjBcbiAgICAgKi9cbiAgICBjb25zdCBodG1sID0gZnVuY3Rpb24oeG1sU3RyaW5nKSB7XG4gICAgICBpZiAoeG1sU3RyaW5nKSB7XG4gICAgICAgIGdldEVsZW1lbnQoKS5pbm5lckhUTUwgPSB4bWxTdHJpbmc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEVsZW1lbnQoKS5pbm5lckhUTUw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHRoZSBjaGlsZHMgb2YgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKClcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHt9ICAgICAgICAgIC0sXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjRcbiAgICAgKi9cbiAgICBjb25zdCBlbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3Qgbm9kZSA9IGdldEVsZW1lbnQoKTtcbiAgICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gSFRNTCBzdHJpbmcgYWZ0ZXIgdGhlIGxhc3QgY2hpbGQgb2YgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICBhbiBIVE1MIHN0cmluZyxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuNFxuICAgICAqL1xuICAgIGNvbnN0IGFwcGVuZCA9IGZ1bmN0aW9uKHhtbFN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiB4bWxTdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGdldEVsZW1lbnQoKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIHhtbFN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhbiBIVE1MIHN0cmluZyBiZWZvcmUgdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgYW4gSFRNTCBzdHJpbmcsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjZcbiAgICAgKi9cbiAgICBjb25zdCBwcmVwZW5kID0gZnVuY3Rpb24oeG1sU3RyaW5nKSB7XG4gICAgICBpZiAodHlwZW9mIHhtbFN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZ2V0RWxlbWVudCgpLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIHhtbFN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhbiBIVE1MIHN0cmluZyBhZnRlciB0aGUgY3VycmVudCBub2RlLlxuICAgICAqXG4gICAgICogTm90YTogdGhpcyBtZXRob2QgYWRkcyBhIG5vZGUgYWZ0ZXIgdGhlIGN1cnJlbnQgbm9kZSBvbmx5IGlmIGl0IGlzXG4gICAgICogYSBjaGlsZCBub2RlIG9mIHRoaXMgY29tcG9uZW50LiAnYWZ0ZXInIGlzIGZvcmJpZGRlbiBvbiB0aGUgcm9vdCBub2RlLlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIGFuIEhUTUwgc3RyaW5nLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC42XG4gICAgICovXG4gICAgY29uc3QgYWZ0ZXIgPSBmdW5jdGlvbih4bWxTdHJpbmcpIHtcbiAgICAgIGNvbnN0IGVsZW0gPSBnZXRFbGVtZW50KCk7XG4gICAgICBpZiAodHlwZW9mIHhtbFN0cmluZyA9PT0gJ3N0cmluZycgJiYgZWxlbS5pZCAhPT0gdGhhdC5pZCkge1xuICAgICAgICBlbGVtLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCB4bWxTdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gSFRNTCBzdHJpbmcgYmVmb3JlIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBOb3RhOiB0aGlzIG1ldGhvZCBhZGRzIGEgbm9kZSBiZWZvcmUgdGhlIGN1cnJlbnQgbm9kZSBvbmx5IGlmIGl0IGlzXG4gICAgICogYSBjaGlsZCBub2RlIG9mIHRoaXMgY29tcG9uZW50LiAnYmVmb3JlJyBpcyBmb3JiaWRkZW4gb24gdGhlIHJvb3Qgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICBhbiBIVE1MIHN0cmluZyxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuNlxuICAgICAqL1xuICAgIGNvbnN0IGJlZm9yZSA9IGZ1bmN0aW9uKHhtbFN0cmluZykge1xuICAgICAgY29uc3QgZWxlbSA9IGdldEVsZW1lbnQoKTtcbiAgICAgIGlmICh0eXBlb2YgeG1sU3RyaW5nID09PSAnc3RyaW5nJyAmJiBlbGVtLmlkICE9PSB0aGF0LmlkKSB7XG4gICAgICAgIGdldEVsZW1lbnQoKS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWJlZ2luJywgeG1sU3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyB0aGUgY3VycmVudCBub2RlIHdpdGggdGhlIGdpdmVuIERPTVN0cmluZy5cbiAgICAgKlxuICAgICAqIE5vdGE6IHRoaXMgbWV0aG9kIHJlcGxhY2VzIHRoZSBjdXJyZW50IG5vZGUgb25seSBpZiBpdCBpc1xuICAgICAqIGEgY2hpbGQgbm9kZSBvZiB0aGlzIGNvbXBvbmVudC4gJ3JlcGxhY2VXaXRoJyBpcyBmb3JiaWRkZW4gb24gdGhlIHJvb3Qgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICBhbiBIVE1MIHN0cmluZyxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuNlxuICAgICAqL1xuICAgIGNvbnN0IHJlcGxhY2VXaXRoID0gZnVuY3Rpb24oeG1sU3RyaW5nKSB7XG4gICAgICBjb25zdCBvbGRDaGlsZCA9IGdldEVsZW1lbnQoKVxuICAgICAgICAgICwgcGFyZW50ICAgPSBvbGRDaGlsZC5wYXJlbnROb2RlXG4gICAgICAgICAgLy8gLCBpbmRleCAgICA9ICBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKHBhcmVudC5jaGlsZHJlbiwgb2xkQ2hpbGQpXG4gICAgICAgICAgLCB3cmFwcGVyICA9IGRvY3UuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICA7XG4gICAgICBsZXQgbmV3Q2hpbGRcbiAgICAgICAgO1xuXG4gICAgICBpZiAodHlwZW9mIHhtbFN0cmluZyA9PT0gJ3N0cmluZycgJiYgb2xkQ2hpbGQuaWQgIT09IHRoYXQuaWQpIHtcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgb2xkIGNoaWxkIGJ5IG5ldyBvbmU6XG4gICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0geG1sU3RyaW5nO1xuICAgICAgICBuZXdDaGlsZCA9IHdyYXBwZXIuZmlyc3RDaGlsZDtcbiAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdDaGlsZCwgb2xkQ2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMvU2V0cyB0aGUgdGV4dCBjb250ZW50cyBvZiB0aGUgZWxlbWVudCxcbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgdGV4dCBjb250ZW50cyB0byBhZGQsXG4gICAgICogQHJldHVybnMge1N0cmluZ30gIHJldHVybnMgdGhlIHRleHQgY29udGVudHMgb3IgdGhpczssXG4gICAgICogQHNpbmNlIDAuMC4wXG4gICAgICovXG4gICAgY29uc3QgdGV4dCA9IGZ1bmN0aW9uKHRleHRlKSB7XG4gICAgICBpZiAodGV4dGUpIHtcbiAgICAgICAgZ2V0RWxlbWVudCgpLnRleHRDb250ZW50ID0gdGV4dGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldEVsZW1lbnQoKS50ZXh0Q29udGVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cy9TZXRzIHRoZSBzdHlsZSBhdHRyaWJ1dGUgb2YgdGhlIGVsZW1lbnQsXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxLCBhcmcyKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIHN0eWxlIGF0dHJpYnV0ZSxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIHN0eWxlIGF0dHJpYnV0ZSB2YWx1ZSxcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAgcmV0dXJucyB0aGUgc3R5bGUgYXR0cmlidXRlIHZhbHVlIG9yIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC4zXG4gICAgICovXG4gICAgY29uc3QgY3NzID0gZnVuY3Rpb24oc3R5bGVBdHRyLCB2YWx1ZSkge1xuICAgICAgY29uc3QgYXJyID0gdHlwZW9mIHN0eWxlQXR0ciA9PT0gJ3N0cmluZycgPyBzdHlsZUF0dHIuc3BsaXQoJy0nKSA6IFtdO1xuICAgICAgbGV0IGF0dHIgPSAnJztcblxuICAgICAgLy8gQ29udmVydCBzdHlsZSBhdHRyaWJ1dGUgbmFtZSB3aXRoICctJyAoZXguOiAnZm9udC1zaXplJyB0byAnZm9udFNpemUnKTpcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgYXR0ciArPSBhcnJbaV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXR0ciArPSBhcnJbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBhcnJbaV0uc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAvLyBHZXQgYXR0cmlidXRlOlxuICAgICAgICByZXR1cm4gZ2V0RWxlbWVudCgpLnN0eWxlW2F0dHJdO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgYXR0cmlidXRlOlxuICAgICAgZ2V0RWxlbWVudCgpLnN0eWxlW2F0dHJdID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgRE9NVG9rZW5MaXN0IGNvbGxlY3Rpb24gb2YgdGhlIGNsYXNzIGF0dHJpYnV0ZXMgb2YgdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kICgpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7fSAgICAgICAgICAtLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoZSBET01Ub2tlbkxpc3Qgb2YgdGhlIGVsZW1lbnQsXG4gICAgICogQHNpbmNlIDAuMC4wXG4gICAgICovXG4gICAgY29uc3QgZ2V0Q2xhc3NMaXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0RWxlbWVudCgpLmNsYXNzTGlzdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNsYXNzIG5hbWUgdG8gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIGNsYXNzIG5hbWUgdG8gYWRkLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC4wXG4gICAgICovXG4gICAgY29uc3QgYWRkQ2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgIGdldEVsZW1lbnQoKS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGNsYXNzIG5hbWUgZnJvbSB0aGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgY2xhc3MgbmFtZSB0byByZW1vdmUsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjBcbiAgICAgKi9cbiAgICBjb25zdCByZW1vdmVDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgZ2V0RWxlbWVudCgpLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIGEgY2xhc3MgbmFtZSBmb3IgdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIGNsYXNzIG5hbWUgdG8gYWRkL3JlbW92ZSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuMFxuICAgICAqL1xuICAgIGNvbnN0IHRvZ2dsZUNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICBnZXRFbGVtZW50KCkuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgb3IgR2V0cyB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEsIGFyZzIpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgYXR0cmlidXRlIG5hbWUsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBhdHRyaWJ1dGUgdmFsdWUsXG4gICAgICogQHJldHVybnMge1N0cmluZ30gIHJldHVybnMgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBvciB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuNlxuICAgICAqL1xuICAgIGNvbnN0IGF0dHIgPSBmdW5jdGlvbihhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZ2V0RWxlbWVudCgpLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2V0RWxlbWVudCgpLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBhdHRyaWJ1dGUgbmFtZSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuMFxuICAgICAqL1xuICAgIGNvbnN0IHJlbW92ZUF0dHIgPSBmdW5jdGlvbihhdHRyaWJ1dGUpIHtcbiAgICAgIGlmIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgZ2V0RWxlbWVudCgpLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGEgY3VzdG9tIGFuaW1hdGlvbiBvZiBhIHNldCBvZiBDU1MgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKHByb3BlcnRpZXMgWywgZHVyYXRpb24gXSBbLCBlYXNpbmcgXSBbLCBjb21wbGV0ZSBdKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgQW4gb2JqZWN0IG9mIENTUyBwcm9wZXJ0aWVzLFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSAgICBkZWZpbmUgaG93IGxvbmcgdGhlIGFuaW1hdGlvbiBydW4sXG4gICAgICogQHBhcmFtIHtFYXNpbmd9ICAgIHRoZSBlYXNpbmcgYW5pbWF0aW9uIG1ldGhvZCxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgdGhlIGZ1bmN0aW9uIHRvIGNhbGwgYXQgY29tcGxldGlvbixcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuN1xuICAgICAqL1xuICAgIGNvbnN0IGFuaW1hdGUgPSBmdW5jdGlvbihwcm9wZXJ0aWVzLCAuLi5hcmdzKSB7XG4gICAgICBjb25zdCBEVElNRSA9IDQwMFxuICAgICAgICAgICwgRkFTVCAgPSAyMDBcbiAgICAgICAgICAsIFNMT1cgID0gNjAwXG4gICAgICAgICAgLCBJTkMgICA9IDEwXG4gICAgICAgICAgLCBlbGVtICA9IGdldEVsZW1lbnQoKVxuICAgICAgICAgICwgZGVsYXkgPSBJTkNcbiAgICAgICAgICA7XG5cbiAgICAgIC8vIElzIHRoZSBhcmd1bWVudCBwcm9wZXJ0aWVzIGFuIG9iamVjdD9cbiAgICAgIGlmICghXy5pc0xpdGVyYWxPYmplY3QocHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIEV4dHJhY3QgdGhlIG9wdGlvbmFsIGFyZ3VtZW50czpcbiAgICAgIGNvbnN0IGFyZ3VzID0gQW5pbS5leHRyYWN0QXJncyhhcmdzKTtcblxuICAgICAgLy8gU2V0IHRoZSBkdXJhdGlvbjpcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gXy5pc051bWJlcihhcmd1cy5kdXJhdGlvbilcbiAgICAgICAgPyBhcmd1cy5kdXJhdGlvblxuICAgICAgICA6IChmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICBpZiAoYXJnID09PSAnZmFzdCcpIHJldHVybiBGQVNUO1xuICAgICAgICAgIGlmIChhcmcgPT09ICdzbG93JykgcmV0dXJuIFNMT1c7XG4gICAgICAgICAgcmV0dXJuIERUSU1FO1xuICAgICAgICB9KGFyZ3VzLmR1cmF0aW9uKSk7XG5cbiAgICAgIC8vIFNldCB0aGUgZWFzaW5nIChzd2luZyBvbmx5IGZvciB0aGUgdGltZSBiZWluZyk6XG4gICAgICBjb25zdCBlYXNpbmcgPSAoQW5pbS5lYXNpbmcgJiYgQW5pbS5lYXNpbmdbYXJndXMuZWFzaW5nXSlcbiAgICAgICAgPyBBbmltLmVhc2luZ1thcmd1cy5lYXNpbmddXG4gICAgICAgIDogQW5pbS5zd2luZztcblxuICAgICAgLy8gU2V0IHRoZSBjYWxsYmFjazpcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gYXJndXMuY2FsbGJhY2sgPyBhcmd1cy5jYWxsYmFjayA6IG51bGw7XG5cbiAgICAgIC8vIFJ1biB0aGUgYW5pbWF0aW9uOlxuICAgICAgQW5pbS5ydW4oZWxlbSwgcHJvcGVydGllcywgZWFzaW5nLCBkdXJhdGlvbiwgZGVsYXksIGNhbGxiYWNrKTtcblxuICAgICAgLy8gVGVzdCBNb2RlOlxuICAgICAgaWYgKFZpenUudmRvbSkge1xuICAgICAgICB0aGlzLnByb2JlID0ge1xuICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogKEFuaW0uZWFzaW5nICYmIEFuaW0uZWFzaW5nW2FyZ3VzLmVhc2luZ10pID8gYXJndXMuZWFzaW5nIDogJ3N3aW5nJyxcbiAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEF0dGFjaHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEsIGFyZzIpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgRE9NIGV2ZW50IHN0cmluZyxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgdGhlIGxpc3RuZXIgZnVuY3Rpb24sXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjVcbiAgICAgKi9cbiAgICBjb25zdCBvbiA9IGZ1bmN0aW9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZyb20gdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEsIGFyZzIpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgRE9NIGV2ZW50IHN0cmluZyxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgdGhlIGxpc3RuZXIgZnVuY3Rpb24sXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjVcbiAgICAgKi9cbiAgICBjb25zdCBvZmYgPSBmdW5jdGlvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgIGdldEVsZW1lbnQoKS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBnZXRFbGVtZW50KCkgPyBnZXRFbGVtZW50KCkuaWQgOiBudWxsLFxuICAgICAgZ2V0RWxlbWVudCxcbiAgICAgIGh0bWwsXG4gICAgICBlbXB0eSxcbiAgICAgIGFwcGVuZCxcbiAgICAgIHByZXBlbmQsXG4gICAgICBhZnRlcixcbiAgICAgIGJlZm9yZSxcbiAgICAgIHJlcGxhY2VXaXRoLFxuICAgICAgdGV4dCxcbiAgICAgIGNzcyxcbiAgICAgIGdldENsYXNzTGlzdCxcbiAgICAgIGFkZENsYXNzLFxuICAgICAgcmVtb3ZlQ2xhc3MsXG4gICAgICB0b2dnbGVDbGFzcyxcbiAgICAgIGF0dHIsXG4gICAgICByZW1vdmVBdHRyLFxuICAgICAgYW5pbWF0ZSxcbiAgICAgIG9uLFxuICAgICAgb2ZmLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoZXMgZXZlbnQocykgdG8gdGhlIGdpdmVuIG5vZGUuXG4gICAqXG4gICAqIEBtZXRob2QgKGFyZzEsIGFyZzIpXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBET00gZXZlbnQgbmFtZSxcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIHRoZSBldmVudCBsaXN0ZW5lcixcbiAgICogQHJldHVybnMge0Z1bnRpb259IHJldHVybnMgdGhpcyxcbiAgICogQHNpbmNlIDAuMC41XG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBldmVudHMoKSB7XG4gICAgLy8gSnVzdCB0byBhdm9pZCBlc2xpbnQgZXJyb3IhXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGVmaW5lZCB3ZWIgY29tcG9uZW50LlxuICAgKlxuICAgKiBAbWV0aG9kICgpXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHt9ICAgICAgICAgIC0sXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9ICByZXR1cm5zIHRoZSB3ZWIgY29tcG9uZW50LFxuICAgKiBAc2luY2UgMC4wLjBcbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gYDxkaXY+JHt0aGlzLmlkfTwvZGl2PmA7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2Vzc2VzIHRoZSB3ZWIgY29tcG9uZW50IHRvIGNvbnZlcnQgY2hpbGQocykgdG8gcGxhaW4gSFRNTC5cbiAgICpcbiAgICogQG1ldGhvZCAoKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge30gICAgICAgICAgLSxcbiAgICogQHJldHVybnMge1N0cmluZ30gIHJldHVybnMgdGhlIHdlYiBjb21wb25lbnQsXG4gICAqIEBzaW5jZSAwLjAuMFxuICAgKi9cbiAgZ2V0IHJlbmRlcmVkKCkge1xuICAgIGxldCB0O1xuICAgIC8vIEluaXRpYWxpemVzOlxuICAgIHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCk7XG4gICAgLy8gQWRkIGFuIHVuaXF1ZSBJRCB0byB0aGlzIGNvbXBvbmVudDpcbiAgICAvLyBsZXQgdCA9IHRoaXMucmVuZGVyKCkucmVwbGFjZSgvPGRpdj4vLCBgPGRpdiBpZD1cIiR7dGhpcy5pZH1cIj5gKTtcbiAgICBjb25zdCBjbyA9IHRoaXMucmVuZGVyKCk7XG4gICAgaWYgKGNvLm1hdGNoKC9eXFxzKjxkaXYvKSkge1xuICAgICAgdCA9IGNvLnJlcGxhY2UoL15cXHMqPGRpdi8sIGA8ZGl2IGlkPSBcIiR7dGhpcy5pZH1cImApO1xuICAgIH0gZWxzZSBpZiAoY28ubWF0Y2goL15cXHMqPGhlYWRlci8pKSB7XG4gICAgICB0ID0gY28ucmVwbGFjZSgvXlxccyo8aGVhZGVyLywgYDxoZWFkZXIgaWQ9IFwiJHt0aGlzLmlkfVwiYCk7XG4gICAgfSBlbHNlIGlmIChjby5tYXRjaCgvXlxccyo8Zm9vdGVyLykpIHtcbiAgICAgIHQgPSBjby5yZXBsYWNlKC9eXFxzKjxmb290ZXIvLCBgPGZvb3RlciBpZD0gXCIke3RoaXMuaWR9XCJgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdCA9IGNvO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNMaXN0KSB7XG4gICAgICAvLyBUaGlzIGNvbXBvbmVudCBpbmNsdWRlcyBjb21wb25lbnRzLCByZW5kZXIgdGhlbTpcbiAgICAgIHRoaXMuY29tcG9uZW50cyA9IHt9O1xuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuY0xpc3QpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGMgPSBuZXcgdGhpcy5jTGlzdFtrZXlzW2ldXSgpO1xuICAgICAgICB0ID0gdC5yZXBsYWNlKGtleXNbaV0sIGMucmVuZGVyZWQpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudHNba2V5c1tpXS5yZXBsYWNlKC9bXmEtekEtejAtOV0vZywgJycpXSA9IGM7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJldHVybiB0aGUgcmVuZGVyZWQgd2ViIGNvbXBvbmVudDpcbiAgICByZXR1cm4gdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzZXMgdGhlIHdlYiBjb21wb25lbnQgZXZlbnRzLlxuICAgKlxuICAgKiBAbWV0aG9kICgpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7fSAgICAgICAgICAtLFxuICAgKiBAcmV0dXJucyB7fSAgICAgICAgLSxcbiAgICogQHNpbmNlIDAuMC41XG4gICAqL1xuICBnZXQgZXZlbnRlZCgpIHtcbiAgICB0aGlzLmV2ZW50cygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcbiIsIi8qIGdsb2JhbCAqL1xuLyogZXNsaW50IG9uZS12YXI6IDAgKi9cblxuLy8gLS0gVmVuZG9yIG1vZHVsZXNcblxuLy8gLS0gTG9jYWwgbW9kdWxlc1xuaW1wb3J0IF8gZnJvbSAnLi9vdmVyc2xhc2gnO1xuaW1wb3J0IHUgZnJvbSAnLi91dGlsaXRpZXMnO1xuXG4vLyAtLSBHbG9iYWwgY29uc3RhbnRzIChpbiB0aGUgc2NvcGUgb2YgdGhpcyBtb2R1bGUpXG5cblxuLy8gLS0gUHVibGljIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBFeHRyYWN0cyB0aGUgb3B0aW9uYWwgYXJndW1lbnQgb2YgJ2FuaW1hdGUnLlxuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7P30gICAgICAgICBkdXJhdGlvbiwgZWFzaW5nIG9yIGNhbGxiYWNrLFxuICAgKiBAcGFyYW0gez99ICAgICAgICAgZWFzaW5nIG9yIGNhbGxiYWNrLFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIGZ1bmN0aW9uIHRvIGNhbGwgYXQgY29tcGxldGlvbixcbiAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgZHVyYXRpb24sIGVhc2luZ1xuICAgKiAgICAgICAgICAgICAgICAgICAgYW5kIGNhbGxiYWNrLFxuICAgKiBAc2luY2UgMC4wLjdcbiAgICovXG4gIGV4dHJhY3RBcmdzKC4uLmFyZykge1xuICAgIGNvbnN0IG5iID0gYXJnWzBdLmxlbmd0aFxuICAgICAgICAsIGFyZ3MgPSBhcmdbMF1cbiAgICAgICAgO1xuXG4gICAgbGV0IGR1cmF0aW9uXG4gICAgICAsIGVhc2luZ1xuICAgICAgLCBjYWxsYmFja1xuICAgICAgO1xuXG4gICAgc3dpdGNoIChuYikge1xuICAgICAgY2FzZSAwOlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAxOlxuICAgICAgICBpZiAoXy5pc051bWJlcihhcmdzWzBdKSB8fCBhcmdzWzBdID09PSAnZmFzdCcgfHwgYXJnc1swXSA9PT0gJ3Nsb3cnKSB7XG4gICAgICAgICAgZHVyYXRpb24gPSBhcmdzWzBdO1xuICAgICAgICB9IGVsc2UgaWYgKF8uaXNTdHJpbmcoYXJnc1swXSkpIHtcbiAgICAgICAgICBlYXNpbmcgPSBhcmdzWzBdO1xuICAgICAgICB9IGVsc2UgaWYgKF8uaXNGdW5jdGlvbihhcmdzWzBdKSkge1xuICAgICAgICAgIGNhbGxiYWNrID0gYXJnc1swXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOlxuICAgICAgICBpZiAoXy5pc051bWJlcihhcmdzWzBdKSB8fCBhcmdzWzBdID09PSAnZmFzdCcgfHwgYXJnc1swXSA9PT0gJ3Nsb3cnKSB7XG4gICAgICAgICAgZHVyYXRpb24gPSBhcmdzWzBdO1xuICAgICAgICAgIGlmIChfLmlzU3RyaW5nKGFyZ3NbMV0pKSB7XG4gICAgICAgICAgICBlYXNpbmcgPSBhcmdzWzFdO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXy5pc0Z1bmN0aW9uKGFyZ3NbMV0pKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKF8uaXNTdHJpbmcoYXJnc1swXSkpIHtcbiAgICAgICAgICBlYXNpbmcgPSBhcmdzWzBdO1xuICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oYXJnc1sxXSkpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gYXJnc1sxXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMzpcbiAgICAgICAgaWYgKF8uaXNOdW1iZXIoYXJnc1swXSkgfHwgYXJnc1swXSA9PT0gJ2Zhc3QnIHx8IGFyZ3NbMF0gPT09ICdzbG93Jykge1xuICAgICAgICAgIGR1cmF0aW9uID0gYXJnc1swXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5pc1N0cmluZyhhcmdzWzFdKSkge1xuICAgICAgICAgIGVhc2luZyA9IGFyZ3NbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihhcmdzWzJdKSkge1xuICAgICAgICAgIGNhbGxiYWNrID0gYXJnc1syXTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgZHVyYXRpb24sXG4gICAgICBlYXNpbmcsXG4gICAgICBjYWxsYmFjayxcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIENTUyBwcm9wZXJ0eSB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBub2RlLlxuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEsIGFyZzIpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgZ2l2ZW4gbm9kZSxcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBDU1MgcHJvcGVydGllcyB0byBhbmltYXRlLFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyBpbml0aWFsLCBjaGFuZ2UsIHN1ZmZpeFxuICAgKiAgICAgICAgICAgICAgICAgICAgcGVyIGFuaW1hdGVkIHByb3BlcnR5LFxuICAgKiBAc2luY2UgMC4wLjdcbiAgICovXG4gIGdldFByb3BzKGVsLCBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXMpXG4gICAgICAgICwgcHJvcHMgPSB7fVxuICAgICAgICAsIG5hbWVzID0gW11cbiAgICAgICAgO1xuXG4gICAgbGV0IG5hbWVcbiAgICAgICwgaVxuICAgICAgO1xuXG4gICAgLy8gUGFyc2UgdGhlIHByb3BlcnRpZXM6XG4gICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHk6XG4gICAgICBuYW1lID0gdS5ub3JtYWxpemVDc3NQcm9wZXJ0eU5hbWUoa2V5c1tpXSk7XG4gICAgICAvLyBDaGVjayBpdCBpcyBhIHZhbGlkIENTUyBwcm9wZXJ0eTpcbiAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSkge1xuICAgICAgICBuYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICBwcm9wc1tuYW1lXSA9IHtcbiAgICAgICAgICBpbml0aWFsOiBwYXJzZUZsb2F0KGVsLnN0eWxlW25hbWVdLCAxMCksXG4gICAgICAgICAgY2hhbmdlOiBwYXJzZUZsb2F0KHByb3BlcnRpZXNba2V5c1tpXV0pIC0gcGFyc2VGbG9hdChlbC5zdHlsZVtuYW1lXSksXG4gICAgICAgICAgc3VmZml4OiBlbC5zdHlsZVtuYW1lXS5yZXBsYWNlKC9bMC05Ll0vZywgJycpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBwcm9wcy5uYW1lID0gbmFtZXM7XG4gICAgcmV0dXJuIHByb3BzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGR5bmFtaWNhbGx5IHRoZSBDU1MgcHJvcGVydGllcyBmcm9tIHRoZWlyIGluaXRpYWwgdmFsdWUgdG8gdGhlaXIgZmluYWwuXG4gICAqXG4gICAqIEBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNCwgYXJnNSwgYXJnNilcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBnaXZlbiBub2RlLFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIENTUyBwcm9wZXJ0aWVzIHRvIHVwZGF0ZSxcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIHRoZSBlYXNpbmcgbWV0aG9kLFxuICAgKiBAcGFyYW0ge051bWJlcn0gICAgdGhlIGFuaW1hdGlvbiBkdXJhdGlvbixcbiAgICogQHBhcmFtIHtOdW1iZXJ9ICAgIHRoZSBhbmltYXRpb24gc3RlcCxcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gIHRoZSBmdW5jdGlvbiB0byBjYWxsIGF0IHRoZSBjb21wbGV0aW9uLFxuICAgKiBAcmV0dXJucyB7fSAgICAgICAgLSxcbiAgICogQHNpbmNlIDAuMC43XG4gICAqL1xuICBydW4oZWwsIHByb3BlcnRpZXMsIGVhc2luZywgZHVyYXRpb24sIGRlbGF5LCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHByb3BzID0gdGhpcy5nZXRQcm9wcyhlbCwgcHJvcGVydGllcylcbiAgICAgICAgLCBlbGVtID0gZWxcbiAgICAgICAgO1xuXG4gICAgbGV0IGxhcHNlT2ZUaW1lID0gMFxuICAgICAgO1xuXG4gICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBsYXBzZU9mVGltZSArPSBkZWxheTtcbiAgICAgIGlmIChsYXBzZU9mVGltZSA+IGR1cmF0aW9uKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgICAvLyBlYXNpbmc6XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BzLm5hbWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxlbS5zdHlsZVtwcm9wcy5uYW1lW2ldXSA9IGVhc2luZyhcbiAgICAgICAgICBsYXBzZU9mVGltZSxcbiAgICAgICAgICBwcm9wc1twcm9wcy5uYW1lW2ldXS5pbml0aWFsLFxuICAgICAgICAgIHByb3BzW3Byb3BzLm5hbWVbaV1dLmNoYW5nZSxcbiAgICAgICAgICBkdXJhdGlvbikgKyBwcm9wc1twcm9wcy5uYW1lW2ldXS5zdWZmaXg7XG4gICAgICB9XG4gICAgfSwgZGVsYXkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBlYXNpbmcgbWV0aG9kIChpZiBQaWNvUS5lYXNpbmcuZSgpIGFyZW4ndCBwcm92aWRlZCkuXG4gICAqXG4gICAqIEBmdW5jdGlvbiAoYXJnMSwgYXJnMiwgYXJnMywgYXJnNClcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9ICAgIHRoZSBjdXJyZW50IGxhcHNlIHRpbWUsXG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgICB0aGUgaW5pdGlhbCBDU1MgcHJvcGVydHkgdmFsdWUsXG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgICB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSBmaW5hbCBhbmQgdGhlIGluaXRpYWwgdmFsdWUsXG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgICB0aGUgYW5pbWF0aW9uIGR1cmF0aW9uLFxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSAgcmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIENTUyBwcm9wZXJ0eSBhdCB0aGUgY3VycmVudCBsYXBzZSB0aW1lLFxuICAgKiBAc2luY2UgMC4wLjdcbiAgICovXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLW1peGVkLW9wZXJhdG9ycyAqL1xuICBzd2luZyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiAoMC41IC0gTWF0aC5jb3ModCAvIGQgKiBNYXRoLlBJKSAvIDIpICsgYjtcbiAgfSwgLyogZXNsaW50LWVuYWJsZSBuby1taXhlZC1vcGVyYXRvcnMgKi9cbn07IC8qIGVzbGludC1lbmFibGUgbm8tdW5kZXJzY29yZS1kYW5nbGUgKi9cbiIsIi8qIGdsb2JhbCAqL1xuLyogZXNsaW50IG9uZS12YXI6IDAgKi9cblxuLy8gLS0gVmVuZG9yIG1vZHVsZXNcblxuLy8gLS0gTG9jYWwgbW9kdWxlc1xuXG4vLyAtLSBHbG9iYWwgY29uc3RhbnRzIChpbiB0aGUgc2NvcGUgb2YgdGhpcyBtb2R1bGUpXG5cblxuLy8gLS0gUHVibGljIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBJcyBhIGdpdmVuIHZhbHVlIGEgc3RyaW5nP1xuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHRoZSBvYmplY3QgdG8gdGVzdCxcbiAgICogQHJldHVybnMge0Jvb2xlYW59ICAgcmV0dXJucyB0cnVlIG9yIGZhbHNlLFxuICAgKiBAc2luY2UgMC4wLjdcbiAgICovXG4gIGlzU3RyaW5nKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIElzIGEgZ2l2ZW4gdmFsdWUgYSBudW1iZXI/XG4gICAqXG4gICAqIEBmdW5jdGlvbiAoYXJnMSlcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgdGhlIG9iamVjdCB0byB0ZXN0LFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gICByZXR1cm5zIHRydWUgb3IgZmFsc2UsXG4gICAqIEBzaW5jZSAwLjAuN1xuICAgKi9cbiAgaXNOdW1iZXIob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBOdW1iZXJdJztcbiAgfSxcblxuICAvKipcbiAgICogSXMgYSBnaXZlbiB2YXJpYWJsZSBhIGxpdGVyYWwgb2JqZWN0P1xuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgb2JqZWN0IHRvIHRlc3QsXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSByZXR1cm5zIHRydWUgb3IgZmFsc2UsXG4gICAqIEBzaW5jZSAwLjAuN1xuICAgKi9cbiAgaXNMaXRlcmFsT2JqZWN0KG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIElzIGEgZ2l2ZW4gdmFyaWFibGUgYSBmdW5jdGlvbj9cbiAgICpcbiAgICogQGZ1bmN0aW9uIChhcmcxKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIG9iamVjdCB0byB0ZXN0LFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmV0dXJucyB0cnVlIG9yIGZhbHNlLFxuICAgKiBAc2luY2UgMC4wLjdcbiAgICovXG4gIGlzRnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICB9LFxufTtcbiIsIi8qIGdsb2JhbCAqL1xuLyogZXNsaW50IG9uZS12YXI6IDAgKi9cblxuLy8gLS0gVmVuZG9yIG1vZHVsZXNcblxuLy8gLS0gTG9jYWwgbW9kdWxlc1xuaW1wb3J0IF8gZnJvbSAnLi9vdmVyc2xhc2gnO1xuXG4vLyAtLSBHbG9iYWwgY29uc3RhbnRzIChpbiB0aGUgc2NvcGUgb2YgdGhpcyBtb2R1bGUpXG5cblxuLy8gLS0gUHVibGljIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGRlZmF1bHQge1xuXG4gIC8qKlxuICAgKiBOb3JtYWxpemVzIHRoZSBDU1MgcHJvcGVydGllcy5cbiAgICogKHJlcGxhY2UgJy0nIGJldHdlZW4gY29tcG9zaXRlIG5hbWUgYnkgY2FtZWxjYXNlIHN0eWxlKS5cbiAgICogRXg6IGZvbnQtc2l6ZSAtPiBmb250U2l6ZVxuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgQ1NTIHByb3BlcnR5IG5hbWUsXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9ICB0aGUgbm9ybWFsaXplZCBDU1MgcHJvcGVydHkgbmFtZSxcbiAgICogQHNpbmNlIDAuMC43XG4gICAqL1xuICBub3JtYWxpemVDc3NQcm9wZXJ0eU5hbWUobmFtZSkge1xuICAgIGNvbnN0IGFyciA9IF8uaXNTdHJpbmcobmFtZSkgPyBuYW1lLnNwbGl0KCctJykgOiBbXVxuICAgICAgICA7XG5cbiAgICBsZXQgbm9ybWFsaXplZCA9ICcnXG4gICAgICA7XG5cbiAgICAvLyBDb252ZXJ0IG5hbWUgd2l0aCAnLScgKGV4LjogJ2ZvbnQtc2l6ZScgdG8gJ2ZvbnRTaXplJyk6XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIG5vcm1hbGl6ZWQgKz0gYXJyW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9ybWFsaXplZCArPSBhcnJbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBhcnJbaV0uc2xpY2UoMSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkO1xuICB9LFxufTtcbiIsIi8qIGdsb2JhbCBkb2N1bWVudCAqL1xuLyogZXNsaW50IGluZGVudDogW1wiZXJyb3JcIiwgMiwgeyBcIlZhcmlhYmxlRGVjbGFyYXRvclwiOiB7IFwidmFyXCI6IDEsIFwibGV0XCI6IDEsIFwiY29uc3RcIjogMiB9IH1dICovXG4vKiBlc2xpbnQgb25lLXZhcjogMCwgbm8tcGFyYW0tcmVhc3NpZ246IDAsIG1heC1sZW46IFsxLCAxMzBdLFxuICBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFtcImVycm9yXCIsIHsgXCJhbGxvd1Rlcm5hcnlcIjogdHJ1ZSB9XSwgbm8tdW5kZXJzY29yZS1kYW5nbGU6IDAsXG4gIG5vLXByb3RvOiAxLCBwcmVmZXItcmVzdC1wYXJhbXM6IDEgKi9cblxuLy8gLS0gVmVuZG9yIG1vZHVsZXNcblxuLy8gLS0gTG9jYWwgbW9kdWxlc1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbi8vIC0tIEdsb2JhbCBjb25zdGFudHMgKGluIHRoZSBzY29wZSBvZiB0aGlzIG1vZHVsZSlcblxuXG4vLyAtLSBQcml2YXRlIEZ1bmN0aW9ucyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHBhdGggb2YgdGhlIG1hdGNoaW5nIFdlYiBDb21wb25lbnQuXG4gKlxuICogQGZ1bmN0aW9uICgpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSB2aWV3IG9iamVjdCxcbiAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgdGFnIGRlZmluaW5nIGEgV2ViIENvbXBvbmVudFxuICogQHJldHVybnMge09iamVjdH0gIHRoZSBwYXRoIG9mIHRoZSBtYXRjaGluZyBXZWIgQ29tcG9uZW50LFxuICovXG5jb25zdCBleHBsb3JlID0gZnVuY3Rpb24odmlldywgdGFnKSB7XG4gIGlmICh2aWV3LmNMaXN0ICYmIHZpZXcuY0xpc3RbdGFnXSkge1xuICAgIHJldHVybiB2aWV3O1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2aWV3KTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHZpZXdba2V5c1tpXV0uY0xpc3QpIHtcbiAgICAgIGlmICh2aWV3W2tleXNbaV1dLmNMaXN0W3RhZ10pIHtcbiAgICAgICAgcmV0dXJuIHZpZXdba2V5c1tpXV07XG4gICAgICB9XG4gICAgICBpZiAodmlld1trZXlzW2ldXS5jb21wb25lbnRzKSB7XG4gICAgICAgIHJldHVybiBleHBsb3JlKHZpZXdba2V5c1tpXV0uY29tcG9uZW50cywgdGFnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIEF0dGFjaGVzIGV2ZW50cyB0byB0aGUgcmVuZGVyZWQgY29tcG9uZW50cy5cbiAqXG4gKiBAZnVuY3Rpb24gKGFyZzEpXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSB2aWV3IG9iamVjdCxcbiAqIEByZXR1cm5zIHt9ICAgICAgICAtLFxuICovXG5jb25zdCBhdHRhY2hFdmVudHMgPSBmdW5jdGlvbih2aWV3KSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuICBpZiAodmlldy5jTGlzdCkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh2aWV3LmNMaXN0KTtcbiAgICBsZXQgZm47XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdmlldy5jb21wb25lbnRzKSB7XG4gICAgICAgIC8vIEV4dHJhY3QgY29tcG9uZW50cyBhdCB0aGUgZmlyc3QgbGV2ZWw6XG4gICAgICAgIGZuID0gdmlld1trZXlzW2ldLnJlcGxhY2UoL1teYS16QS16MC05XS9nLCAnJyldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRXh0cmFjdCBjb21wb25lbnRzIGF0IGxldmVscyBuICsgMTpcbiAgICAgICAgZm4gPSB2aWV3LmNvbXBvbmVudHNba2V5c1tpXS5yZXBsYWNlKC9bXmEtekEtejAtOV0vZywgJycpXTtcbiAgICAgIH1cbiAgICAgIC8vIFJ1biBDb21wb25lbnQgZXZlbnRzIGZ1bmN0aW9uOlxuICAgICAgZm4uZXZlbnRlZDtcbiAgICAgIC8vIFByb2Nlc3Mgc3ViIGNvbXBvbmVudHMgcmVjdXJzaXZlbHk6XG4gICAgICBhdHRhY2hFdmVudHMoZm4pO1xuICAgIH1cbiAgfVxufTsgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuLyoqXG4gKiBDb2RlIHJldXNlZCBmcm9tIEJhYmVsXG4gKi9cbmNvbnN0IF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSB7XG4gICAgICBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgfVxuICAgIGlmIChzdGF0aWNQcm9wcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICB9XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpKTtcblxuLyoqXG4gKiBDb2RlIHJldXNlZCBmcm9tIEJhYmVsXG4gKi9cbmNvbnN0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuID0gZnVuY3Rpb24oc2VsZiwgY2FsbCkge1xuICBpZiAoIXNlbGYpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgfVxuICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICdvYmplY3QnIHx8IHR5cGVvZiBjYWxsID09PSAnZnVuY3Rpb24nKSA/IGNhbGwgOiBzZWxmO1xufTtcblxuLyoqXG4gKiBDb2RlIHJldXNlZCBmcm9tIEJhYmVsXG4gKi9cbmNvbnN0IF9pbmhlcml0cyA9IGZ1bmN0aW9uKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICR7dHlwZW9mIHN1cGVyQ2xhc3N9YCk7XG4gIH1cbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgY29uc3RydWN0b3I6IHtcbiAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSB9KTtcblxuICBpZiAoc3VwZXJDbGFzcykge1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xuICB9XG59O1xuXG4vKipcbiAqIENvZGUgcmV1c2VkIGZyb20gQmFiZWxcbiAqL1xuY29uc3QgX2NsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24oaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDb2RlIHJldXNlZCBmcm9tIEJhYmVsXG4gKi9cbmNvbnN0IF9zdWJDbGFzcyA9IGZ1bmN0aW9uKFN1cGVyQ2xhc3MsIG0pIHtcbiAgZnVuY3Rpb24gU3ViQ2xhc3MoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1YkNsYXNzKTtcbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN1YkNsYXNzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoU3ViQ2xhc3MpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuICBfaW5oZXJpdHMoU3ViQ2xhc3MsIFN1cGVyQ2xhc3MpO1xuXG4gIF9jcmVhdGVDbGFzcyhTdWJDbGFzcywgbSk7XG5cbiAgcmV0dXJuIFN1YkNsYXNzO1xufTtcblxuXG4vLyAtLSBQdWJsaWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiogVGhpcyBsaWJyYXJ5IHJlbmRlcnMgdGhlIFZpZXcgaW4gdGhlIERPTS5cbipcbiogQG5hbWVzcGFjZSBWaXp1XG4qL1xuY29uc3QgVml6dSA9IHtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdmVyc2lvbiBvZiB0aGlzIGxpYnJhcnkuXG4gICAqXG4gICAqIEBtZXRob2QgKClcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge30gICAgICAgICAgLSxcbiAgICogQHJldHVybnMge1N0cmluZ30gIHJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhpcyBsaWJyYXJ5LFxuICAgKi9cbiAgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gJ3t7bGliOnZlcnNpb259fSc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgdGhlIFZpZXcgaW4gdGhlIERPTS5cbiAgICpcbiAgICogQG1ldGhvZCAoYXJnMSwgYXJnMiwgYXJnMylcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIGFnZ3JlZ2F0ZWQgd2ViIGNvbXBvbmVudHMsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgbGlzdCBvZiB3ZWIgY29tcG9uZW50cyBhbmQgdGhlaXIgcmVmZXJlbmNlLFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIERPTSBlbGVtZW50IHdoZXJlIHRoZSB2aWV3ICh0aGUgYWdncmVnYXRlIG9mIHdlYiBjb21wb25lbnRzKSBpcyBpbnNlcnRlZCxcbiAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhlIHZpZXcgb2JqZWN0LFxuICAgKiBAc2luY2UgMC4wLjBcbiAgICovXG4gIHJlbmRlcih0ZW1wbGF0ZSwgY0xpc3QsIGVsKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjTGlzdCkgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gT2JqZWN0LmtleXMoY0xpc3QpIDogW11cbiAgICAgICAgLCB2aWV3ID0ge31cbiAgICAgICAgO1xuICAgIGxldCB0O1xuXG4gICAgLy8gUmV0dXJuIG51bGwgaWYgdGhlIHRlbXBsYXRlIGlzIG5vdCBhIHN0cmluZzpcbiAgICBpZiAodHlwZW9mIHRlbXBsYXRlICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gY29tcG9uZW50cywgcmVuZGVyIHRoZSB0ZW1wbGF0ZSBhcyBpczpcbiAgICBpZiAoIWNMaXN0KSB7XG4gICAgICBpZiAoZWwpIHtcbiAgICAgICAgZWwuaW5uZXJIVE1MID0gdGVtcGxhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBWaXp1LnZkb21cbiAgICAgICAgICA/IChWaXp1LnZkb20ud2luZG93LmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MICs9IHRlbXBsYXRlKVxuICAgICAgICAgIDogKGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MICs9IHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIFRoaXMgdmlldyBpbmNsdWRlcyBjb21wb25lbnRzLCByZW5kZXIgdGhlbTpcbiAgICB0ID0gdGVtcGxhdGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjID0gbmV3IGNMaXN0W2tleXNbaV1dKCk7XG4gICAgICB0ID0gdC5yZXBsYWNlKGtleXNbaV0sIGMucmVuZGVyZWQpO1xuICAgICAgdmlld1trZXlzW2ldLnJlcGxhY2UoL1teYS16QS16MC05XS9nLCAnJyldID0gYztcbiAgICB9XG4gICAgLy8gQXR0YWNoIGNMaXN0OlxuICAgIHZpZXcuY0xpc3QgPSBrZXlzLmxlbmd0aCA+IDAgPyBjTGlzdCA6IG51bGw7XG5cbiAgICAvLyBGaWxsIHRoZSBET006XG4gICAgaWYgKGVsKSB7XG4gICAgICBlbC5pbm5lckhUTUwgPSB0O1xuICAgIH0gZWxzZSB7XG4gICAgICBlbCA9IFZpenUudmRvbSA/IFZpenUudmRvbS53aW5kb3cuZG9jdW1lbnQuYm9keSA6IGRvY3VtZW50LmJvZHk7XG4gICAgICAvLyBBdHRhY2ggdGhlIGNvbXBvbmVudCB0byB0aGUgYm9keSBhcyB0aGUgZmlyc3QgY2hpbGQ6XG4gICAgICBlbC5pbm5lckhUTUwgPSB0ICsgZWwuaW5uZXJIVE1MO1xuICAgIH1cblxuICAgIC8vIEF0dGFjaCBldmVudChzKVxuICAgIC8vIHBhcnNlIGFsbCBjb21wb25lbnRzIGFuZCBmb3IgZWFjaCBjb21wb25lbnQgZXhlY3V0ZSBldmVudGVkIVxuICAgIGF0dGFjaEV2ZW50cyh2aWV3KTtcblxuICAgIC8vIEF0dGFjaCBwYXJlbnQgZWxlbWVudDpcbiAgICB2aWV3LmVsID0gZWw7XG5cbiAgICAvLyBSZXR1cm4gdGhlIHJlbmRlcmVkIG9iamVjdCAod2l0aCBhIHJlZmVyZW5jZSB0byBhbGwgdGhlIHdlYiBjb21wb25lbnRzKTpcbiAgICByZXR1cm4gdmlldztcbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYSBjb21wb25lbnQgd2l0aCBhbm90aGVyIGNvbXBvbmVudCBoYXZpbmcgdGhlIHNhbWUgdGFnLlxuICAgKlxuICAgKiBAbWV0aG9kIChhcmcxLCBhcmcyKVxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgdmlldyBvYmplY3QsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgbmV3IGNvbXBvbmVudCAoeyAnPEFhYSAvPic6ICduZXcgY2xhc3MnIH0pLFxuICAgKiBAcmV0dXJucyB7fSAgICAgICAgLSxcbiAgICogQHNpbmNlIDAuMC4wXG4gICAqL1xuICByZXBsYWNlKHZpZXcsIGNvbXBvbmVudCkge1xuICAgIGxldCBpZFxuICAgICAgLCB0eXBlXG4gICAgICA7XG5cbiAgICAvLyBDaGVjayB0aGF0IHZpZXcgaXMgYW4gb2JqZWN0IHdpdGgsIGF0IGxlYXN0LCB0aGUgcHJvcGVydGllcyBjTGlzdCBhbmQgZWw6XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2aWV3KSAhPT0gJ1tvYmplY3QgT2JqZWN0XScgfHwgIXZpZXcuY0xpc3QgfHwgIXZpZXcuZWwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB0aGF0IGNvbXBvbmVudCBpcyBhbiBvYmplY3Q6XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjb21wb25lbnQpICE9PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFByb2Nlc3MgdGhlIG5ldyBjb21wb25lbnQ6XG4gICAgY29uc3QgbmV3Y3RhZyA9IE9iamVjdC5rZXlzKGNvbXBvbmVudClbMF07XG4gICAgY29uc3QgbmV3Y25hbWUgPSBuZXdjdGFnLnJlcGxhY2UoL1teYS16QS16MC05XS9nLCAnJyk7XG4gICAgY29uc3QgbmV3YyA9IG5ldyBjb21wb25lbnRbbmV3Y3RhZ10oKTtcblxuICAgIC8vIENoZWNrIGlmIGEgY29tcG9uZW50IHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgdmlldzpcbiAgICBjb25zdCBwYXRoID0gZXhwbG9yZSh2aWV3LCBuZXdjdGFnKTtcbiAgICBpZiAocGF0aCkge1xuICAgICAgLy8gR2V0IGl0cyBpZCBhbmQgcmVtb3ZlIGl0OlxuICAgICAgaWYgKHBhdGhbbmV3Y25hbWVdKSB7XG4gICAgICAgIGlkID0gcGF0aFtuZXdjbmFtZV0uaWQ7XG4gICAgICAgIHBhdGhbbmV3Y25hbWVdID0gbnVsbDtcbiAgICAgICAgdHlwZSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZCA9IHBhdGguY29tcG9uZW50c1tuZXdjbmFtZV0uaWQ7XG4gICAgICAgIHBhdGguY29tcG9uZW50c1tuZXdjbmFtZV0gPSBudWxsO1xuICAgICAgICB0eXBlID0gMjtcbiAgICAgIH1cbiAgICAgIHBhdGguY0xpc3RbbmV3Y3RhZ10gPSBudWxsO1xuXG4gICAgICAvLyBHZXQgaXRzIGlkIGFuZCBjbGVhciBpdDpcbiAgICAgIGNvbnN0IHdyYXBwZXIgPSBWaXp1LnZkb21cbiAgICAgICAgPyBWaXp1LnZkb20ud2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgIGNvbnN0IG9sZE5vZGUgPSBWaXp1LnZkb21cbiAgICAgICAgPyBWaXp1LnZkb20ud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKVxuICAgICAgICA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcblxuICAgICAgd3JhcHBlci5pbm5lckhUTUwgPSBuZXdjLnJlbmRlcmVkO1xuICAgICAgb2xkTm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQsIG9sZE5vZGUpO1xuXG4gICAgICAvLyBBdHRhY2ggdGhlIG5ldyBub2RlIHRvIHZpZXc6XG4gICAgICBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICBwYXRoW25ld2NuYW1lXSA9IG5ld2M7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRoLmNvbXBvbmVudHNbbmV3Y25hbWVdID0gbmV3YztcbiAgICAgIH1cbiAgICAgIHBhdGguY0xpc3RbbmV3Y3RhZ10gPSBjb21wb25lbnRbbmV3Y3RhZ107XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBFeHRlbmRzIHRoZSBjbGFzcyBDb21wb25lbnQuXG4gICAqXG4gICAqIEBtZXRob2QgKGFyZzEpXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBtZXRob2RzIHRvIGFkZCB0byBDb21wb25lbnQsXG4gICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoZSBleHRlbmRlZCBjbGFzcyBjb21wb25lbnQsXG4gICAqIEBzaW5jZSAwLjAuM1xuICAgKi9cbiAgY3JlYXRlQ2xhc3MobWV0aG9kcykge1xuICAgIC8vIENoZWNrIHRoYXQgbWV0aG9kcyBpcyBhbiBvYmplY3Q6XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtZXRob2RzKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIEV4dHJhY3Qga2V5czpcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobWV0aG9kcyk7XG4gICAgY29uc3QgbyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgby5wdXNoKHtcbiAgICAgICAga2V5OiBrZXlzW2ldLFxuICAgICAgICB2YWx1ZTogbWV0aG9kc1trZXlzW2ldXSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBfc3ViQ2xhc3MoQ29tcG9uZW50LCBvKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFZpenU7XG4iXX0="}
{"version":3,"sources":["node_modules/browser-pack/_prelude.js","index.js","src/component.js","src/private/animate.js","src/private/overslash.js","src/private/utilities.js","src/vizu.js"],"names":[],"mappings":"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","file":"vizu.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Component from './src/component';\nimport Vizu from './src/vizu';\n\nexport default { Component, Vizu };\n","/* global document */\n/* eslint indent: [\"error\", 2, { \"VariableDeclarator\": { \"var\": 1, \"let\": 1, \"const\": 2 } }] */\n/* eslint one-var: 0 */\n// -- Vendor modules\n\n// -- Local modules\nimport Vizu from './vizu';\nimport Anim from './private/animate';\nimport _ from './private/overslash';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\n/**\n* This class defines the web component.\n*\n* @namespace vizu\n*/\nclass Component {\n/**\n * Creates an unique ID for this component.\n *\n * @constructor ()\n * @public\n * @param {}          -,\n */\n  constructor() {\n    // Create an unique id for this component:\n    this.id = `i${Math.random().toString(36).substr(2, 7)}`;\n    this.cList = null;\n    this.components = null;\n    this.props = {};\n    this.props.options = {};\n  }\n\n  /**\n   * Initialises the variables when the component is rendered.\n   *\n   * @method ()\n   * @public\n   * @param {}        -,\n   * @returns {}      -,\n   * @since 0.0.0\n   */\n  getInitialState() {\n    // To avoid eslint error!\n    this.props = {};\n    this.props.options = {};\n  }\n\n  /**\n   * Returns the the first element that matches the specified CSS selector(s).\n   *\n   * @method (arg1)\n   * @public\n   * @param {String}    the CSS selector(s),\n   * @returns {Object}  returns the first element that matches a specified\n   *                    CSS selector(s),\n   * @since 0.0.0\n   */\n  $(selector) {\n    const cid = this.id\n        , docu = Vizu.vdom ? Vizu.vdom.window.document : document\n        ;\n\n    let el;\n\n    /**\n     * Select a child element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the selector,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const select = function(sel) {\n      if (typeof sel === 'string' && this[0]) {\n        const child = this[0].querySelector(sel);\n        if (child) {\n          this[0] = child;\n        }\n      }\n      return this;\n    };\n\n    /**\n     * Selects the specified child if it exists.\n     *\n     * @method (arg1)\n     * @public\n     * @param {Number}    the child index,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const selectChild = function(n) {\n      if (Object.prototype.toString.call(n) === '[object Number]') {\n        this[0] = this[0].children[n] ? this[0].children[n] : this[0];\n      }\n      return this;\n    };\n\n    /**\n     * Returns to the parent element.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const parent = function() {\n      if (this.root) {\n        // As a root parent is defined, we stop at it.\n        if (this[0] !== this.root) {\n          this[0] = this[0].parentNode;\n        }\n      } else {\n        this[0] = this[0].parentNode;\n      }\n      return this;\n    };\n\n    /**\n     * Returns to the root parent if defined.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns this,\n     * @since 0.0.7\n     */\n    const firstParent = function() {\n      if (this.root) {\n        this[0] = this.root;\n      }\n      return this;\n    };\n\n    /**\n     * Gets/Sets the HTML contents of the element,\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the html contents to add,\n     * @returns {String}  returns the node DOMString or this,\n     * @since 0.0.0\n     */\n    const html = function(xmlString) {\n      if (xmlString) {\n        this[0].innerHTML = xmlString;\n        return this;\n      }\n      return this[0].innerHTML;\n    };\n\n    /**\n     * Removes all the childs of the current node.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns this,\n     * @since 0.0.4\n     */\n    const empty = function() {\n      while (this[0].firstChild) {\n        this[0].removeChild(this[0].firstChild);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string after the last child of the current node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.4\n     */\n    const append = function(xmlString) {\n      if (typeof xmlString === 'string') {\n        this[0].insertAdjacentHTML('beforeend', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string before the first child of the current node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const prepend = function(xmlString) {\n      if (typeof xmlString === 'string') {\n        this[0].insertAdjacentHTML('afterbegin', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string after the current node.\n     *\n     * Nota: this method adds a node after the current node only if it is\n     * a child node of this component. 'after' is forbidden on the root node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const after = function(xmlString) {\n      if (typeof xmlString === 'string' && this[0].id !== cid) {\n        this[0].insertAdjacentHTML('afterend', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Appends an HTML string before the current node.\n     *\n     * Nota: this method adds a node before the current node only if it is\n     * a child node of this component. 'before' is forbidden on the root node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const before = function(xmlString) {\n      if (typeof xmlString === 'string' && this[0].id !== cid) {\n        this[0].insertAdjacentHTML('beforebegin', xmlString);\n      }\n      return this;\n    };\n\n    /**\n     * Replaces the current node with the given DOMString.\n     *\n     * Nota: this method replaces the current node only if it is\n     * a child node of this component. 'replaceWith' is forbidden on the root node.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    an HTML string,\n     * @returns {Object}  returns this,\n     * @since 0.0.6\n     */\n    const replaceWith = function(xmlString) {\n      const oldChild = this[0]\n          , parento   = oldChild.parentNode\n          // , index    =  Array.prototype.indexOf.call(parent.children, oldChild)\n          , wrapper  = docu.createElement('div')\n          ;\n      let newChild\n        ;\n\n      if (typeof xmlString === 'string' && oldChild.id !== cid) {\n        // Replace the old child by new one:\n        wrapper.innerHTML = xmlString;\n        newChild = wrapper.firstChild;\n        parento.replaceChild(newChild, oldChild);\n      }\n      return this;\n    };\n\n    /**\n     * Gets/Sets the text contents of the element,\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the text contents to add,\n     * @returns {String}  returns the text contents or this;,\n     * @since 0.0.0\n     */\n    const text = function(texte) {\n      if (texte) {\n        this[0].textContent = texte;\n        return this;\n      }\n      return this[0].textContent;\n    };\n\n    /**\n     * Clones the selected element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {Boolean}   true clone with children, false without,\n     * @returns {Object}  returns the cloned element,\n     * @since 0.0.8\n     */\n    const clone = function(deep) {\n      if (deep === true || deep === false) {\n        return this[0].cloneNode(deep);\n      }\n      return this[0].cloneNode(true);\n    };\n\n    /**\n     * Inserts a child element before another child element.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {Object}    the new node element,\n     * @param {Object}    the target node element,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const insertChildBefore = function(newChild, child) {\n      if (newChild) {\n        this[0].insertBefore(newChild, child);\n      }\n      return this;\n    };\n\n    /**\n     * Removed the passed-in child element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {Object}    the child element to remove,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const removeChild = function(child) {\n      if (child) {\n        this[0].removeChild(child);\n      }\n      return this;\n    };\n\n    /**\n     * Replaces a child by another.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {Object}    the new node element,\n     * @param {Object}    the node element to replace,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const replaceChild = function(newChild, child) {\n      if (newChild) {\n        this[0].replaceChild(newChild, child);\n      }\n      return this;\n    };\n\n    /**\n     * Returns the children.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns the children HTMLCollection,\n     * @since 0.0.8\n     */\n    const children = function() {\n      return this[0].children;\n    };\n\n    /**\n     * Returns the children position in the parent tree.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns the children position,\n     * @since 0.0.8\n     */\n    const childIndex = function() {\n      let child = this[0]\n        , index = 0\n        ;\n      while (child !== null) {\n        child = child.previousElementSibling;\n        index += 1;\n      }\n      return index - 1;\n    };\n\n    /**\n     * Returns the DOMRect object that bounds the contents of the range.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns the DOMRect object,\n     * @since 0.0.8\n     */\n    const getRect = function() {\n      return this[0] ? this[0].getBoundingClientRect() : null;\n    };\n\n    /**\n     * Gets/Sets the style attribute of the element,\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the style attribute,\n     * @param {String}    the style attribute value,\n     * @returns {String}  returns the style attribute value or this,\n     * @since 0.0.3\n     */\n    const css = function(styleAttr, value) {\n      const arr = typeof styleAttr === 'string' ? styleAttr.split('-') : [];\n      let attr = '';\n\n      // Convert style attribute name with '-' (ex.: 'font-size' to 'fontSize'):\n      for (let i = 0; i < arr.length; i++) {\n        if (i === 0) {\n          attr += arr[i];\n        } else {\n          attr += arr[i].charAt(0).toUpperCase() + arr[i].slice(1);\n        }\n      }\n\n      if (!value) {\n        // Get attribute:\n        return this[0].style[attr];\n      }\n\n      // Set attribute:\n      this[0].style[attr] = value;\n      return this;\n    };\n\n    /**\n     * Returns the DOMTokenList collection of the class attributes of the element.\n     *\n     * @method ()\n     * @public\n     * @param {}          -,\n     * @returns {Object}  returns the DOMTokenList of the element,\n     * @since 0.0.0\n     */\n    const getClassList = function() {\n      return this[0].classList;\n    };\n\n    /**\n     * Adds a class name to the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the class name to add,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const addClass = function(className) {\n      this[0].classList.add(className);\n      return this;\n    };\n\n    /**\n     * Adds a list of classes to the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {Array}     the list of classes to add,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const addClasses = function(classes) {\n      if (Array.isArray(classes)) {\n        for (let i = 0; i < classes.length; i++) {\n          this[0].classList.add(classes[i]);\n        }\n      }\n      return this;\n    };\n\n    /**\n     * Removes a class name from the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the class name to remove,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const removeClass = function(className) {\n      this[0].classList.remove(className);\n      return this;\n    };\n\n    /**\n     * Removes a list of classes from the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {Array}     the list of classes to remove,\n     * @returns {Object}  returns this,\n     * @since 0.0.8\n     */\n    const removeClasses = function(classes) {\n      if (Array.isArray(classes)) {\n        for (let i = 0; i < classes.length; i++) {\n          this[0].classList.remove(classes[i]);\n        }\n      }\n      return this;\n    };\n\n    /**\n     * Toggles a class name for the element.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the class name to add/remove,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const toggleClass = function(className) {\n      this[0].classList.toggle(className);\n      return this;\n    };\n\n    /**\n     * Checks if the element has the passed-in class.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the class name,\n     * @returns {Boolean} returns true or false,\n     * @since 0.0.8\n     */\n    const hasClass = function(className) {\n      const list = this[0].classList.value.split(' ');\n\n      if (Object.prototype.toString.call(className) === '[object String]' && list.indexOf(className) !== -1) {\n        return true;\n      }\n      return false;\n    };\n\n    /**\n     * Sets or Gets the specified attribute.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the attribute name,\n     * @param {String}    the attribute value,\n     * @returns {String}  returns the attribute value or this,\n     * @since 0.0.6\n     */\n    const attr = function(attribute, value) {\n      if (value) {\n        this[0].setAttribute(attribute, value);\n        return this;\n      }\n      return this[0].getAttribute(attribute);\n    };\n\n    /**\n     * Removes the specified attribute.\n     *\n     * @method (arg1)\n     * @public\n     * @param {String}    the attribute name,\n     * @returns {Object}  returns this,\n     * @since 0.0.0\n     */\n    const removeAttr = function(attribute) {\n      if (attribute) {\n        this[0].removeAttribute(attribute);\n      }\n      return this;\n    };\n\n    /**\n     * Performs a custom animation of a set of CSS properties.\n     *\n     * @method (properties [, duration ] [, easing ] [, complete ])\n     * @public\n     * @param {Object}    An object of CSS properties,\n     * @param {Number}    define how long the animation run,\n     * @param {Easing}    the easing animation method,\n     * @param {Function}  the function to call at completion,\n     * @returns {Object}  returns this,\n     * @since 0.0.7\n     */\n    const animate = function(properties, ...args) {\n      const DTIME = 400\n          , FAST  = 200\n          , SLOW  = 600\n          , INC   = 10\n          , elem  = this[0]\n          , delay = INC\n          ;\n\n      // Is the argument properties an object?\n      if (!_.isLiteralObject(properties)) {\n        return this;\n      }\n\n      // Extract the optional arguments:\n      const argus = Anim.extractArgs(args);\n\n      // Set the duration:\n      const duration = _.isNumber(argus.duration)\n        ? argus.duration\n        : (function(arg) {\n          if (arg === 'fast') return FAST;\n          if (arg === 'slow') return SLOW;\n          return DTIME;\n        }(argus.duration));\n\n      // Set the easing (swing only for the time being):\n      const easing = (Anim.easing && Anim.easing[argus.easing])\n        ? Anim.easing[argus.easing]\n        : Anim.swing;\n\n      // Set the callback:\n      const callback = argus.callback ? argus.callback : null;\n\n      // Run the animation:\n      Anim.run(elem, properties, easing, duration, delay, callback);\n\n      // Test Mode:\n      if (Vizu.vdom) {\n        this.probe = {\n          duration,\n          easing: (Anim.easing && Anim.easing[argus.easing]) ? argus.easing : 'swing',\n          callback,\n        };\n      }\n\n      return this;\n    };\n\n    /**\n     * Attachs an event listener to the current node.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the DOM event string,\n     * @param {Function}  the listner function,\n     * @returns {Object}  returns this,\n     * @since 0.0.5\n     */\n    const on = function(event, listener) {\n      this[0].addEventListener(event, listener);\n      return this;\n    };\n\n    /**\n     * Removes an event listener from the current node.\n     *\n     * @method (arg1, arg2)\n     * @public\n     * @param {String}    the DOM event string,\n     * @param {Function}  the listner function,\n     * @returns {Object}  returns this,\n     * @since 0.0.5\n     */\n    const off = function(event, listener) {\n      this[0].removeEventListener(event, listener);\n      return this;\n    };\n\n    // -- Main\n    if (selector) {\n      // Selects the first element that matches the selector(s):\n      el = docu.querySelector(`#${cid}`).querySelector(selector);\n    } else {\n      // Selects the entire 'web component':\n      el = docu.querySelector(`#${cid}`);\n    }\n\n    return {\n      0: el,\n      id: el ? el.id : null,\n      select,\n      selectChild,\n      parent,\n      firstParent,\n      html,\n      empty,\n      append,\n      prepend,\n      after,\n      before,\n      replaceWith,\n      text,\n      clone,\n      insertChildBefore,\n      removeChild,\n      replaceChild,\n      children,\n      childIndex,\n      getRect,\n      css,\n      getClassList,\n      addClass,\n      addClasses,\n      removeClass,\n      removeClasses,\n      toggleClass,\n      hasClass,\n      attr,\n      removeAttr,\n      animate,\n      on,\n      off,\n    };\n  }\n\n  /**\n   * Attaches event(s) to the given node.\n   *\n   * @method (arg1, arg2)\n   * @public\n   * @param {String}    the DOM event name,\n   * @param {Function}  the event listener,\n   * @returns {Funtion} returns this,\n   * @since 0.0.5\n   */\n  /* istanbul ignore next */\n  events() {\n    // Just to avoid eslint error!\n    return this;\n  }\n\n  /**\n   * Returns the defined web component.\n   *\n   * @method ()\n   * @public\n   * @param {}          -,\n   * @returns {String}  returns the web component,\n   * @since 0.0.0\n   */\n  /* istanbul ignore next */\n  render() {\n    return `<div>${this.id}</div>`;\n  }\n\n  /**\n   * Processes the web component to convert child(s) to plain HTML.\n   *\n   * @method ()\n   * @private\n   * @param {}          -,\n   * @returns {String}  returns the web component,\n   * @since 0.0.0\n   */\n  get rendered() {\n    let t;\n    // Initializes:\n    this.getInitialState();\n    // Add an unique ID to this component:\n    // let t = this.render().replace(/<div>/, `<div id=\"${this.id}\">`);\n    const co = this.render();\n    if (co.match(/^\\s*<div/)) {\n      t = co.replace(/^\\s*<div/, `<div id= \"${this.id}\"`);\n    } else if (co.match(/^\\s*<header/)) {\n      t = co.replace(/^\\s*<header/, `<header id= \"${this.id}\"`);\n    } else if (co.match(/^\\s*<footer/)) {\n      t = co.replace(/^\\s*<footer/, `<footer id= \"${this.id}\"`);\n    } else {\n      t = co;\n    }\n\n    if (this.cList) {\n      // This component includes components, render them:\n      this.components = {};\n      const keys = Object.keys(this.cList);\n      for (let i = 0; i < keys.length; i++) {\n        const c = new this.cList[keys[i]]();\n        t = t.replace(keys[i], c.rendered);\n        this.components[keys[i].replace(/[^a-zA-z0-9]/g, '')] = c;\n      }\n    }\n    // Return the rendered web component:\n    return t;\n  }\n\n  /**\n   * Processes the web component events.\n   *\n   * @method ()\n   * @private\n   * @param {}          -,\n   * @returns {}        -,\n   * @since 0.0.5\n   */\n  get evented() {\n    this.events();\n  }\n}\n\nexport default Component;\n","/* global */\n/* eslint one-var: 0 */\n\n// -- Vendor modules\n\n// -- Local modules\nimport _ from './overslash';\nimport u from './utilities';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\nexport default {\n\n  /**\n   * Extracts the optional argument of 'animate'.\n   *\n   * @function (arg1, arg2, arg3)\n   * @private\n   * @param {?}         duration, easing or callback,\n   * @param {?}         easing or callback,\n   * @param {Object}    the function to call at completion,\n   * @returns {Object}  returns an object with the properties duration, easing\n   *                    and callback,\n   * @since 0.0.7\n   */\n  extractArgs(...arg) {\n    const nb = arg[0].length\n        , args = arg[0]\n        ;\n\n    let duration\n      , easing\n      , callback\n      ;\n\n    switch (nb) {\n      case 0:\n        break;\n\n      case 1:\n        if (_.isNumber(args[0]) || args[0] === 'fast' || args[0] === 'slow') {\n          duration = args[0];\n        } else if (_.isString(args[0])) {\n          easing = args[0];\n        } else if (_.isFunction(args[0])) {\n          callback = args[0];\n        }\n        break;\n\n      case 2:\n        if (_.isNumber(args[0]) || args[0] === 'fast' || args[0] === 'slow') {\n          duration = args[0];\n          if (_.isString(args[1])) {\n            easing = args[1];\n          } else if (_.isFunction(args[1])) {\n            callback = args[1];\n          }\n        } else if (_.isString(args[0])) {\n          easing = args[0];\n          if (_.isFunction(args[1])) {\n            callback = args[1];\n          }\n        }\n        break;\n\n      case 3:\n        if (_.isNumber(args[0]) || args[0] === 'fast' || args[0] === 'slow') {\n          duration = args[0];\n        }\n        if (_.isString(args[1])) {\n          easing = args[1];\n        }\n        if (_.isFunction(args[2])) {\n          callback = args[2];\n        }\n        break;\n\n      /* istanbul ignore next */\n      default:\n        break;\n    }\n    return {\n      duration,\n      easing,\n      callback,\n    };\n  },\n\n  /**\n   * Retrieves the CSS property values for the given node.\n   *\n   * @function (arg1, arg2)\n   * @private\n   * @param {Object}    the given node,\n   * @param {Object}    the CSS properties to animate,\n   * @returns {Object}  returns an object with the properties initial, change, suffix\n   *                    per animated property,\n   * @since 0.0.7\n   */\n  getProps(el, properties) {\n    const keys = Object.keys(properties)\n        , props = {}\n        , names = []\n        ;\n\n    let name\n      , i\n      ;\n\n    // Parse the properties:\n    for (i = 0; i < keys.length; i++) {\n      // Normalize the name of the property:\n      name = u.normalizeCssPropertyName(keys[i]);\n      // Check it is a valid CSS property:\n      if (el.style[name]) {\n        names.push(name);\n        props[name] = {\n          initial: parseFloat(el.style[name], 10),\n          change: parseFloat(properties[keys[i]]) - parseFloat(el.style[name]),\n          suffix: el.style[name].replace(/[0-9.]/g, ''),\n        };\n      }\n    }\n    props.name = names;\n    return props;\n  },\n\n  /**\n   * Updates dynamically the CSS properties from their initial value to their final.\n   *\n   * @function (arg1, arg2, arg3, arg4, arg5, arg6)\n   * @private\n   * @param {Object}    the given node,\n   * @param {Object}    the CSS properties to update,\n   * @param {Function}  the easing method,\n   * @param {Number}    the animation duration,\n   * @param {Number}    the animation step,\n   * @param {Function}  the function to call at the completion,\n   * @returns {}        -,\n   * @since 0.0.7\n   */\n  run(el, properties, easing, duration, delay, callback) {\n    const props = this.getProps(el, properties)\n        , elem = el\n        ;\n\n    let lapseOfTime = 0\n      ;\n\n    const timer = setInterval(() => {\n      lapseOfTime += delay;\n      if (lapseOfTime > duration) {\n        clearInterval(timer);\n        if (callback) callback();\n      }\n      // easing:\n      for (let i = 0; i < props.name.length; i++) {\n        elem.style[props.name[i]] = easing(\n          lapseOfTime,\n          props[props.name[i]].initial,\n          props[props.name[i]].change,\n          duration) + props[props.name[i]].suffix;\n      }\n    }, delay);\n  },\n\n  /**\n   * The default easing method (if PicoQ.easing.e() aren't provided).\n   *\n   * @function (arg1, arg2, arg3, arg4)\n   * @private\n   * @param {Number}    the current lapse time,\n   * @param {Number}    the initial CSS property value,\n   * @param {Number}    the difference between the final and the initial value,\n   * @param {Number}    the animation duration,\n   * @returns {Number}  returns the value of the CSS property at the current lapse time,\n   * @since 0.0.7\n   */\n  /* eslint-disable no-mixed-operators */\n  swing(t, b, c, d) {\n    return c * (0.5 - Math.cos(t / d * Math.PI) / 2) + b;\n  }, /* eslint-enable no-mixed-operators */\n}; /* eslint-enable no-underscore-dangle */\n","/* global */\n/* eslint one-var: 0 */\n\n// -- Vendor modules\n\n// -- Local modules\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\nexport default {\n\n  /**\n   * Is a given value a string?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}      the object to test,\n   * @returns {Boolean}   returns true or false,\n   * @since 0.0.7\n   */\n  isString(obj) {\n    return Object.prototype.toString.call(obj) === '[object String]';\n  },\n\n  /**\n   * Is a given value a number?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}      the object to test,\n   * @returns {Boolean}   returns true or false,\n   * @since 0.0.7\n   */\n  isNumber(obj) {\n    return Object.prototype.toString.call(obj) === '[object Number]';\n  },\n\n  /**\n   * Is a given variable a literal object?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}    the object to test,\n   * @returns {Boolean} returns true or false,\n   * @since 0.0.7\n   */\n  isLiteralObject(obj) {\n    return Object.prototype.toString.call(obj) === '[object Object]';\n  },\n\n  /**\n   * Is a given variable a function?\n   *\n   * @function (arg1)\n   * @private\n   * @param {Object}    the object to test,\n   * @returns {Boolean} returns true or false,\n   * @since 0.0.7\n   */\n  isFunction(obj) {\n    return Object.prototype.toString.call(obj) === '[object Function]';\n  },\n};\n","/* global */\n/* eslint one-var: 0 */\n\n// -- Vendor modules\n\n// -- Local modules\nimport _ from './overslash';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Public Methods -----------------------------------------------------------\n\nexport default {\n\n  /**\n   * Normalizes the CSS properties.\n   * (replace '-' between composite name by camelcase style).\n   * Ex: font-size -> fontSize\n   *\n   * @function (arg1)\n   * @private\n   * @param {String}    the CSS property name,\n   * @returns {String}  the normalized CSS property name,\n   * @since 0.0.7\n   */\n  normalizeCssPropertyName(name) {\n    const arr = _.isString(name) ? name.split('-') : []\n        ;\n\n    let normalized = ''\n      ;\n\n    // Convert name with '-' (ex.: 'font-size' to 'fontSize'):\n    for (let i = 0; i < arr.length; i++) {\n      if (i === 0) {\n        normalized += arr[i];\n      } else {\n        normalized += arr[i].charAt(0).toUpperCase() + arr[i].slice(1);\n      }\n    }\n    return normalized;\n  },\n};\n","/* global document */\n/* eslint indent: [\"error\", 2, { \"VariableDeclarator\": { \"var\": 1, \"let\": 1, \"const\": 2 } }] */\n/* eslint one-var: 0, no-param-reassign: 0, max-len: [1, 130],\n  no-unused-expressions: [\"error\", { \"allowTernary\": true }], no-underscore-dangle: 0,\n  no-proto: 1, prefer-rest-params: 1 */\n\n// -- Vendor modules\n\n// -- Local modules\nimport Component from './component';\n\n// -- Global constants (in the scope of this module)\n\n\n// -- Private Functions --------------------------------------------------------\n\n/**\n * Returns the path of the matching Web Component.\n *\n * @function ()\n * @private\n * @param {Object}    the view object,\n * @param {String}    the tag defining a Web Component\n * @returns {Object}  the path of the matching Web Component,\n */\nconst explore = function(view, tag) {\n  if (view.cList && view.cList[tag]) {\n    return view;\n  }\n  const keys = Object.keys(view);\n  for (let i = 0; i < keys.length; i++) {\n    if (view[keys[i]].cList) {\n      if (view[keys[i]].cList[tag]) {\n        return view[keys[i]];\n      }\n      if (view[keys[i]].components) {\n        return explore(view[keys[i]].components, tag);\n      }\n    }\n  }\n  return null;\n};\n\n/**\n * Attaches events to the rendered components.\n *\n * @function (arg1)\n * @private\n * @param {Object}    the view object,\n * @returns {}        -,\n */\nconst attachEvents = function(view) {\n  /* eslint-disable no-unused-expressions */\n  if (view.cList) {\n    const keys = Object.keys(view.cList);\n    let fn;\n\n    for (let i = 0; i < keys.length; i++) {\n      if (!view.components) {\n        // Extract components at the first level:\n        fn = view[keys[i].replace(/[^a-zA-z0-9]/g, '')];\n      } else {\n        // Extract components at levels n + 1:\n        fn = view.components[keys[i].replace(/[^a-zA-z0-9]/g, '')];\n      }\n      // Run Component events function:\n      fn.evented;\n      // Process sub components recursively:\n      attachEvents(fn);\n    }\n  }\n}; /* eslint-enable no-unused-expressions */\n\n/**\n * Code reused from Babel\n */\nconst _createClass = (function() {\n  function defineProperties(target, props) {\n    for (let i = 0; i < props.length; i++) {\n      const descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true;\n      if ('value' in descriptor) {\n        descriptor.writable = true;\n      }\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function(Constructor, protoProps, staticProps) {\n    if (protoProps) {\n      defineProperties(Constructor.prototype, protoProps);\n    }\n    if (staticProps) {\n      /* istanbul ignore next */\n      defineProperties(Constructor, staticProps);\n    }\n    return Constructor;\n  };\n}());\n\n/**\n * Code reused from Babel\n */\nconst _possibleConstructorReturn = function(self, call) {\n  if (!self) {\n    /* istanbul ignore next */\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === 'object' || typeof call === 'function') ? call : self;\n};\n\n/**\n * Code reused from Babel\n */\nconst _inherits = function(subClass, superClass) {\n  if (typeof superClass !== 'function' && superClass !== null) {\n    /* istanbul ignore next */\n    throw new TypeError(`Super expression must either be null or a function, not ${typeof superClass}`);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true,\n    } });\n\n  if (superClass) {\n    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n};\n\n/**\n * Code reused from Babel\n */\nconst _classCallCheck = function(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    /* istanbul ignore next */\n    throw new TypeError('Cannot call a class as a function');\n  }\n};\n\n/**\n * Code reused from Babel\n */\nconst _subClass = function(SuperClass, m) {\n  function SubClass() {\n    _classCallCheck(this, SubClass);\n    return _possibleConstructorReturn(this, (SubClass.__proto__ || Object.getPrototypeOf(SubClass)).apply(this, arguments));\n  }\n  _inherits(SubClass, SuperClass);\n\n  _createClass(SubClass, m);\n\n  return SubClass;\n};\n\n\n// -- Public Methods -----------------------------------------------------------\n\n/**\n* This library renders the View in the DOM.\n*\n* @namespace Vizu\n*/\nconst Vizu = {\n\n  /**\n   * Returns the version of this library.\n   *\n   * @method ()\n   * @public\n   * @param {}          -,\n   * @returns {String}  returns the version of this library,\n   */\n  version() {\n    return '{{lib:version}}';\n  },\n\n  /**\n   * Renders the View in the DOM.\n   *\n   * @method (arg1, arg2, arg3)\n   * @public\n   * @param {String}    the aggregated web components,\n   * @param {Object}    the list of web components and their reference,\n   * @param {Object}    the DOM element where the view (the aggregate of web components) is inserted,\n   * @returns {Object}  returns the view object,\n   * @since 0.0.0\n   */\n  render(template, cList, el) {\n    const keys = Object.prototype.toString.call(cList) === '[object Object]' ? Object.keys(cList) : []\n        , view = {}\n        ;\n    let t;\n\n    // Return null if the template is not a string:\n    if (typeof template !== 'string') {\n      return null;\n    }\n\n    // If no components, render the template as is:\n    if (!cList) {\n      if (el) {\n        el.innerHTML = template;\n      } else {\n        Vizu.vdom\n          ? (Vizu.vdom.window.document.body.innerHTML += template)\n          : (document.body.innerHTML += template);\n      }\n      return null;\n    }\n\n    // This view includes components, render them:\n    t = template;\n    for (let i = 0; i < keys.length; i++) {\n      const c = new cList[keys[i]]();\n      t = t.replace(keys[i], c.rendered);\n      view[keys[i].replace(/[^a-zA-z0-9]/g, '')] = c;\n    }\n    // Attach cList:\n    view.cList = keys.length > 0 ? cList : null;\n\n    // Fill the DOM:\n    if (el) {\n      el.innerHTML = t;\n    } else {\n      el = Vizu.vdom ? Vizu.vdom.window.document.body : document.body;\n      // Attach the component to the body as the first child:\n      el.innerHTML = t + el.innerHTML;\n    }\n\n    // Attach event(s)\n    // parse all components and for each component execute evented!\n    attachEvents(view);\n\n    // Attach parent element:\n    view.el = el;\n\n    // Return the rendered object (with a reference to all the web components):\n    return view;\n  },\n\n  /**\n   * Replaces a component with another component having the same tag.\n   *\n   * @method (arg1, arg2)\n   * @public\n   * @param {Object}    the view object,\n   * @param {Object}    the new component ({ '<Aaa />': 'new class' }),\n   * @returns {}        -,\n   * @since 0.0.0\n   */\n  replace(view, component) {\n    let id\n      , type\n      ;\n\n    // Check that view is an object with, at least, the properties cList and el:\n    if (Object.prototype.toString.call(view) !== '[object Object]' || !view.cList || !view.el) {\n      return;\n    }\n\n    // Check that component is an object:\n    if (Object.prototype.toString.call(component) !== '[object Object]') {\n      return;\n    }\n\n    // Process the new component:\n    const newctag = Object.keys(component)[0];\n    const newcname = newctag.replace(/[^a-zA-z0-9]/g, '');\n    const newc = new component[newctag]();\n\n    // Check if a component with the same name already exists in the view:\n    const path = explore(view, newctag);\n    if (path) {\n      // Get its id and remove it:\n      if (path[newcname]) {\n        id = path[newcname].id;\n        path[newcname] = null;\n        type = 1;\n      } else {\n        id = path.components[newcname].id;\n        path.components[newcname] = null;\n        type = 2;\n      }\n      path.cList[newctag] = null;\n\n      // Get its id and clear it:\n      const wrapper = Vizu.vdom\n        ? Vizu.vdom.window.document.createElement('div')\n        : document.createElement('div');\n\n      const oldNode = Vizu.vdom\n        ? Vizu.vdom.window.document.getElementById(id)\n        : document.getElementById(id);\n\n      wrapper.innerHTML = newc.rendered;\n      oldNode.parentNode.replaceChild(wrapper.firstChild, oldNode);\n\n      // Attach the new node to view:\n      if (type === 1) {\n        path[newcname] = newc;\n      } else {\n        path.components[newcname] = newc;\n      }\n      path.cList[newctag] = component[newctag];\n    }\n  },\n\n  /**\n   * Extends the class Component.\n   *\n   * @method (arg1)\n   * @public\n   * @param {Object}    the methods to add to Component,\n   * @returns {Object}  returns the extended class component,\n   * @since 0.0.3\n   */\n  createClass(methods) {\n    // Check that methods is an object:\n    if (Object.prototype.toString.call(methods) !== '[object Object]') {\n      return null;\n    }\n\n    // Extract keys:\n    const keys = Object.keys(methods);\n    const o = [];\n    for (let i = 0; i < keys.length; i++) {\n      o.push({\n        key: keys[i],\n        value: methods[keys[i]],\n      });\n    }\n\n    return _subClass(Component, o);\n  },\n};\n\nexport default Vizu;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJpbmRleC5qcyIsInNyYy9jb21wb25lbnQuanMiLCJzcmMvcHJpdmF0ZS9hbmltYXRlLmpzIiwic3JjL3ByaXZhdGUvb3ZlcnNsYXNoLmpzIiwic3JjL3ByaXZhdGUvdXRpbGl0aWVzLmpzIiwic3JjL3ZpenUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQTs7OztBQUNBOzs7Ozs7a0JBRWUsRUFBRSw4QkFBRixFQUFhLG9CQUFiLEU7Ozs7Ozs7Ozs7cWpCQ0hmO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBRUE7OztBQUdBOztBQUVBOzs7OztJQUtNLFM7QUFDTjs7Ozs7OztBQU9FLHVCQUFjO0FBQUE7O0FBQ1o7QUFDQSxTQUFLLEVBQUwsU0FBYyxLQUFLLE1BQUwsR0FBYyxRQUFkLENBQXVCLEVBQXZCLEVBQTJCLE1BQTNCLENBQWtDLENBQWxDLEVBQXFDLENBQXJDLENBQWQ7QUFDQSxTQUFLLEtBQUwsR0FBYSxJQUFiO0FBQ0EsU0FBSyxVQUFMLEdBQWtCLElBQWxCO0FBQ0EsU0FBSyxLQUFMLEdBQWEsRUFBYjtBQUNBLFNBQUssS0FBTCxDQUFXLE9BQVgsR0FBcUIsRUFBckI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7OztzQ0FTa0I7QUFDaEI7QUFDQSxXQUFLLEtBQUwsR0FBYSxFQUFiO0FBQ0EsV0FBSyxLQUFMLENBQVcsT0FBWCxHQUFxQixFQUFyQjtBQUNEOztBQUVEOzs7Ozs7Ozs7Ozs7O3NCQVVFLFEsRUFBVTtBQUNWLFVBQU0sTUFBTSxLQUFLLEVBQWpCO0FBQUEsVUFDTSxPQUFPLGVBQUssSUFBTCxHQUFZLGVBQUssSUFBTCxDQUFVLE1BQVYsQ0FBaUIsUUFBN0IsR0FBd0MsUUFEckQ7O0FBSUEsVUFBSSxXQUFKOztBQUVBOzs7Ozs7Ozs7QUFTQSxVQUFNLFNBQVMsU0FBVCxNQUFTLENBQVMs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QWpCLENBQTBCLGNBQTFCLENBQXlDLEVBQXpDLENBRFksR0FFWixTQUFTLGNBQVQsQ0FBd0IsRUFBeEIsQ0FGSjs7QUFJQSxjQUFRLFNBQVIsR0FBb0IsS0FBSyxRQUF6QjtBQUNBLGNBQVEsVUFBUixDQUFtQixZQUFuQixDQUFnQyxRQUFRLFVBQXhDLEVBQW9ELE9BQXBEOztBQUVBO0FBQ0EsVUFBSSxTQUFTLENBQWIsRUFBZ0I7QUFDZCxhQUFLLFFBQUwsSUFBaUIsSUFBakI7QUFDRCxPQUZELE1BRU87QUFDTCxhQUFLLFVBQUwsQ0FBZ0IsUUFBaEIsSUFBNEIsSUFBNUI7QUFDRDtBQUNELFdBQUssS0FBTCxDQUFXLE9BQVgsSUFBc0IsVUFBVSxPQUFWLENBQXRCO0FBQ0Q7QUFDRixHQS9JVTs7O0FBaUpYOzs7Ozs7Ozs7QUFTQSxhQTFKVyx1QkEwSkMsT0ExSkQsRUEwSlU7QUFDbkI7QUFDQSxRQUFJLE9BQU8sU0FBUCxDQUFpQixRQUFqQixDQUEwQixJQUExQixDQUErQixPQUEvQixNQUE0QyxpQkFBaEQsRUFBbUU7QUFDakUsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQ7QUFDQSxRQUFNLE9BQU8sT0FBTyxJQUFQLENBQVksT0FBWixDQUFiO0FBQ0EsUUFBTSxJQUFJLEVBQVY7QUFDQSxTQUFLLElBQUksSUFBSSxDQUFiLEVBQWdCLElBQUksS0FBSyxNQUF6QixFQUFpQyxHQUFqQyxFQUFzQztBQUNwQyxRQUFFLElBQUYsQ0FBTztBQUNMLGFBQUssS0FBSyxDQUFMLENBREE7QUFFTCxlQUFPLFFBQVEsS0FBSyxDQUFMLENBQVI7QUFGRixPQUFQO0FBSUQ7O0FBRUQsV0FBTywrQkFBcUIsQ0FBckIsQ0FBUDtBQUNEO0FBM0tVLENBQWI7O2tCQThLZSxJIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9zcmMvY29tcG9uZW50JztcbmltcG9ydCBWaXp1IGZyb20gJy4vc3JjL3ZpenUnO1xuXG5leHBvcnQgZGVmYXVsdCB7IENvbXBvbmVudCwgVml6dSB9O1xuIiwiLyogZ2xvYmFsIGRvY3VtZW50ICovXG4vKiBlc2xpbnQgaW5kZW50OiBbXCJlcnJvclwiLCAyLCB7IFwiVmFyaWFibGVEZWNsYXJhdG9yXCI6IHsgXCJ2YXJcIjogMSwgXCJsZXRcIjogMSwgXCJjb25zdFwiOiAyIH0gfV0gKi9cbi8qIGVzbGludCBvbmUtdmFyOiAwICovXG4vLyAtLSBWZW5kb3IgbW9kdWxlc1xuXG4vLyAtLSBMb2NhbCBtb2R1bGVzXG5pbXBvcnQgVml6dSBmcm9tICcuL3ZpenUnO1xuaW1wb3J0IEFuaW0gZnJvbSAnLi9wcml2YXRlL2FuaW1hdGUnO1xuaW1wb3J0IF8gZnJvbSAnLi9wcml2YXRlL292ZXJzbGFzaCc7XG5cbi8vIC0tIEdsb2JhbCBjb25zdGFudHMgKGluIHRoZSBzY29wZSBvZiB0aGlzIG1vZHVsZSlcblxuXG4vLyAtLSBQdWJsaWMgTWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiogVGhpcyBjbGFzcyBkZWZpbmVzIHRoZSB3ZWIgY29tcG9uZW50LlxuKlxuKiBAbmFtZXNwYWNlIHZpenVcbiovXG5jbGFzcyBDb21wb25lbnQge1xuLyoqXG4gKiBDcmVhdGVzIGFuIHVuaXF1ZSBJRCBmb3IgdGhpcyBjb21wb25lbnQuXG4gKlxuICogQGNvbnN0cnVjdG9yICgpXG4gKiBAcHVibGljXG4gKiBAcGFyYW0ge30gICAgICAgICAgLSxcbiAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBDcmVhdGUgYW4gdW5pcXVlIGlkIGZvciB0aGlzIGNvbXBvbmVudDpcbiAgICB0aGlzLmlkID0gYGkke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA3KX1gO1xuICAgIHRoaXMuY0xpc3QgPSBudWxsO1xuICAgIHRoaXMuY29tcG9uZW50cyA9IG51bGw7XG4gICAgdGhpcy5wcm9wcyA9IHt9O1xuICAgIHRoaXMucHJvcHMub3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpc2VzIHRoZSB2YXJpYWJsZXMgd2hlbiB0aGUgY29tcG9uZW50IGlzIHJlbmRlcmVkLlxuICAgKlxuICAgKiBAbWV0aG9kICgpXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHt9ICAgICAgICAtLFxuICAgKiBAcmV0dXJucyB7fSAgICAgIC0sXG4gICAqIEBzaW5jZSAwLjAuMFxuICAgKi9cbiAgZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgIC8vIFRvIGF2b2lkIGVzbGludCBlcnJvciFcbiAgICB0aGlzLnByb3BzID0ge307XG4gICAgdGhpcy5wcm9wcy5vcHRpb25zID0ge307XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBtYXRjaGVzIHRoZSBzcGVjaWZpZWQgQ1NTIHNlbGVjdG9yKHMpLlxuICAgKlxuICAgKiBAbWV0aG9kIChhcmcxKVxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgQ1NTIHNlbGVjdG9yKHMpLFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1hdGNoZXMgYSBzcGVjaWZpZWRcbiAgICogICAgICAgICAgICAgICAgICAgIENTUyBzZWxlY3RvcihzKSxcbiAgICogQHNpbmNlIDAuMC4wXG4gICAqL1xuICAkKHNlbGVjdG9yKSB7XG4gICAgY29uc3QgY2lkID0gdGhpcy5pZFxuICAgICAgICAsIGRvY3UgPSBWaXp1LnZkb20gPyBWaXp1LnZkb20ud2luZG93LmRvY3VtZW50IDogZG9jdW1lbnRcbiAgICAgICAgO1xuXG4gICAgbGV0IGVsO1xuXG4gICAgLyoqXG4gICAgICogU2VsZWN0IGEgY2hpbGQgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgc2VsZWN0b3IsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjhcbiAgICAgKi9cbiAgICBjb25zdCBzZWxlY3QgPSBmdW5jdGlvbihzZWwpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2VsID09PSAnc3RyaW5nJyAmJiB0aGlzWzBdKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpc1swXS5xdWVyeVNlbGVjdG9yKHNlbCk7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIHRoaXNbMF0gPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIHNwZWNpZmllZCBjaGlsZCBpZiBpdCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gICAgdGhlIGNoaWxkIGluZGV4LFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC44XG4gICAgICovXG4gICAgY29uc3Qgc2VsZWN0Q2hpbGQgPSBmdW5jdGlvbihuKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG4pID09PSAnW29iamVjdCBOdW1iZXJdJykge1xuICAgICAgICB0aGlzWzBdID0gdGhpc1swXS5jaGlsZHJlbltuXSA/IHRoaXNbMF0uY2hpbGRyZW5bbl0gOiB0aGlzWzBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdG8gdGhlIHBhcmVudCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge30gICAgICAgICAgLSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuOFxuICAgICAqL1xuICAgIGNvbnN0IHBhcmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICAvLyBBcyBhIHJvb3QgcGFyZW50IGlzIGRlZmluZWQsIHdlIHN0b3AgYXQgaXQuXG4gICAgICAgIGlmICh0aGlzWzBdICE9PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICB0aGlzWzBdID0gdGhpc1swXS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzWzBdID0gdGhpc1swXS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdG8gdGhlIHJvb3QgcGFyZW50IGlmIGRlZmluZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kICgpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7fSAgICAgICAgICAtLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC43XG4gICAgICovXG4gICAgY29uc3QgZmlyc3RQYXJlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnJvb3QpIHtcbiAgICAgICAgdGhpc1swXSA9IHRoaXMucm9vdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzL1NldHMgdGhlIEhUTUwgY29udGVudHMgb2YgdGhlIGVsZW1lbnQsXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIGh0bWwgY29udGVudHMgdG8gYWRkLFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9ICByZXR1cm5zIHRoZSBub2RlIERPTVN0cmluZyBvciB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuMFxuICAgICAqL1xuICAgIGNvbnN0IGh0bWwgPSBmdW5jdGlvbih4bWxTdHJpbmcpIHtcbiAgICAgIGlmICh4bWxTdHJpbmcpIHtcbiAgICAgICAgdGhpc1swXS5pbm5lckhUTUwgPSB4bWxTdHJpbmc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNbMF0uaW5uZXJIVE1MO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgY2hpbGRzIG9mIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kICgpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7fSAgICAgICAgICAtLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC40XG4gICAgICovXG4gICAgY29uc3QgZW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHdoaWxlICh0aGlzWzBdLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpc1swXS5yZW1vdmVDaGlsZCh0aGlzWzBdLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gSFRNTCBzdHJpbmcgYWZ0ZXIgdGhlIGxhc3QgY2hpbGQgb2YgdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICBhbiBIVE1MIHN0cmluZyxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuNFxuICAgICAqL1xuICAgIGNvbnN0IGFwcGVuZCA9IGZ1bmN0aW9uKHhtbFN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiB4bWxTdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXNbMF0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB4bWxTdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gSFRNTCBzdHJpbmcgYmVmb3JlIHRoZSBmaXJzdCBjaGlsZCBvZiB0aGUgY3VycmVudCBub2RlLlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIGFuIEhUTUwgc3RyaW5nLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC42XG4gICAgICovXG4gICAgY29uc3QgcHJlcGVuZCA9IGZ1bmN0aW9uKHhtbFN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiB4bWxTdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXNbMF0uaW5zZXJ0QWRqYWNlbnRIVE1MKCdhZnRlcmJlZ2luJywgeG1sU3RyaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGFuIEhUTUwgc3RyaW5nIGFmdGVyIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBOb3RhOiB0aGlzIG1ldGhvZCBhZGRzIGEgbm9kZSBhZnRlciB0aGUgY3VycmVudCBub2RlIG9ubHkgaWYgaXQgaXNcbiAgICAgKiBhIGNoaWxkIG5vZGUgb2YgdGhpcyBjb21wb25lbnQuICdhZnRlcicgaXMgZm9yYmlkZGVuIG9uIHRoZSByb290IG5vZGUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgYW4gSFRNTCBzdHJpbmcsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjZcbiAgICAgKi9cbiAgICBjb25zdCBhZnRlciA9IGZ1bmN0aW9uKHhtbFN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiB4bWxTdHJpbmcgPT09ICdzdHJpbmcnICYmIHRoaXNbMF0uaWQgIT09IGNpZCkge1xuICAgICAgICB0aGlzWzBdLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJlbmQnLCB4bWxTdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gSFRNTCBzdHJpbmcgYmVmb3JlIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBOb3RhOiB0aGlzIG1ldGhvZCBhZGRzIGEgbm9kZSBiZWZvcmUgdGhlIGN1cnJlbnQgbm9kZSBvbmx5IGlmIGl0IGlzXG4gICAgICogYSBjaGlsZCBub2RlIG9mIHRoaXMgY29tcG9uZW50LiAnYmVmb3JlJyBpcyBmb3JiaWRkZW4gb24gdGhlIHJvb3Qgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICBhbiBIVE1MIHN0cmluZyxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuNlxuICAgICAqL1xuICAgIGNvbnN0IGJlZm9yZSA9IGZ1bmN0aW9uKHhtbFN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiB4bWxTdHJpbmcgPT09ICdzdHJpbmcnICYmIHRoaXNbMF0uaWQgIT09IGNpZCkge1xuICAgICAgICB0aGlzWzBdLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlYmVnaW4nLCB4bWxTdHJpbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VzIHRoZSBjdXJyZW50IG5vZGUgd2l0aCB0aGUgZ2l2ZW4gRE9NU3RyaW5nLlxuICAgICAqXG4gICAgICogTm90YTogdGhpcyBtZXRob2QgcmVwbGFjZXMgdGhlIGN1cnJlbnQgbm9kZSBvbmx5IGlmIGl0IGlzXG4gICAgICogYSBjaGlsZCBub2RlIG9mIHRoaXMgY29tcG9uZW50LiAncmVwbGFjZVdpdGgnIGlzIGZvcmJpZGRlbiBvbiB0aGUgcm9vdCBub2RlLlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIGFuIEhUTUwgc3RyaW5nLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC42XG4gICAgICovXG4gICAgY29uc3QgcmVwbGFjZVdpdGggPSBmdW5jdGlvbih4bWxTdHJpbmcpIHtcbiAgICAgIGNvbnN0IG9sZENoaWxkID0gdGhpc1swXVxuICAgICAgICAgICwgcGFyZW50byAgID0gb2xkQ2hpbGQucGFyZW50Tm9kZVxuICAgICAgICAgIC8vICwgaW5kZXggICAgPSAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChwYXJlbnQuY2hpbGRyZW4sIG9sZENoaWxkKVxuICAgICAgICAgICwgd3JhcHBlciAgPSBkb2N1LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgO1xuICAgICAgbGV0IG5ld0NoaWxkXG4gICAgICAgIDtcblxuICAgICAgaWYgKHR5cGVvZiB4bWxTdHJpbmcgPT09ICdzdHJpbmcnICYmIG9sZENoaWxkLmlkICE9PSBjaWQpIHtcbiAgICAgICAgLy8gUmVwbGFjZSB0aGUgb2xkIGNoaWxkIGJ5IG5ldyBvbmU6XG4gICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0geG1sU3RyaW5nO1xuICAgICAgICBuZXdDaGlsZCA9IHdyYXBwZXIuZmlyc3RDaGlsZDtcbiAgICAgICAgcGFyZW50by5yZXBsYWNlQ2hpbGQobmV3Q2hpbGQsIG9sZENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzL1NldHMgdGhlIHRleHQgY29udGVudHMgb2YgdGhlIGVsZW1lbnQsXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIHRleHQgY29udGVudHMgdG8gYWRkLFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9ICByZXR1cm5zIHRoZSB0ZXh0IGNvbnRlbnRzIG9yIHRoaXM7LFxuICAgICAqIEBzaW5jZSAwLjAuMFxuICAgICAqL1xuICAgIGNvbnN0IHRleHQgPSBmdW5jdGlvbih0ZXh0ZSkge1xuICAgICAgaWYgKHRleHRlKSB7XG4gICAgICAgIHRoaXNbMF0udGV4dENvbnRlbnQgPSB0ZXh0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1swXS50ZXh0Q29udGVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIHRoZSBzZWxlY3RlZCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgIHRydWUgY2xvbmUgd2l0aCBjaGlsZHJlbiwgZmFsc2Ugd2l0aG91dCxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGUgY2xvbmVkIGVsZW1lbnQsXG4gICAgICogQHNpbmNlIDAuMC44XG4gICAgICovXG4gICAgY29uc3QgY2xvbmUgPSBmdW5jdGlvbihkZWVwKSB7XG4gICAgICBpZiAoZGVlcCA9PT0gdHJ1ZSB8fCBkZWVwID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gdGhpc1swXS5jbG9uZU5vZGUoZGVlcCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1swXS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYSBjaGlsZCBlbGVtZW50IGJlZm9yZSBhbm90aGVyIGNoaWxkIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxLCBhcmcyKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIG5ldyBub2RlIGVsZW1lbnQsXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSB0YXJnZXQgbm9kZSBlbGVtZW50LFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC44XG4gICAgICovXG4gICAgY29uc3QgaW5zZXJ0Q2hpbGRCZWZvcmUgPSBmdW5jdGlvbihuZXdDaGlsZCwgY2hpbGQpIHtcbiAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICB0aGlzWzBdLmluc2VydEJlZm9yZShuZXdDaGlsZCwgY2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZWQgdGhlIHBhc3NlZC1pbiBjaGlsZCBlbGVtZW50LlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBjaGlsZCBlbGVtZW50IHRvIHJlbW92ZSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuOFxuICAgICAqL1xuICAgIGNvbnN0IHJlbW92ZUNoaWxkID0gZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICB0aGlzWzBdLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlcyBhIGNoaWxkIGJ5IGFub3RoZXIuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxLCBhcmcyKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIG5ldyBub2RlIGVsZW1lbnQsXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBub2RlIGVsZW1lbnQgdG8gcmVwbGFjZSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuOFxuICAgICAqL1xuICAgIGNvbnN0IHJlcGxhY2VDaGlsZCA9IGZ1bmN0aW9uKG5ld0NoaWxkLCBjaGlsZCkge1xuICAgICAgaWYgKG5ld0NoaWxkKSB7XG4gICAgICAgIHRoaXNbMF0ucmVwbGFjZUNoaWxkKG5ld0NoaWxkLCBjaGlsZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBAbWV0aG9kICgpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7fSAgICAgICAgICAtLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoZSBjaGlsZHJlbiBIVE1MQ29sbGVjdGlvbixcbiAgICAgKiBAc2luY2UgMC4wLjhcbiAgICAgKi9cbiAgICBjb25zdCBjaGlsZHJlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbMF0uY2hpbGRyZW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNoaWxkcmVuIHBvc2l0aW9uIGluIHRoZSBwYXJlbnQgdHJlZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKClcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHt9ICAgICAgICAgIC0sXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhlIGNoaWxkcmVuIHBvc2l0aW9uLFxuICAgICAqIEBzaW5jZSAwLjAuOFxuICAgICAqL1xuICAgIGNvbnN0IGNoaWxkSW5kZXggPSBmdW5jdGlvbigpIHtcbiAgICAgIGxldCBjaGlsZCA9IHRoaXNbMF1cbiAgICAgICAgLCBpbmRleCA9IDBcbiAgICAgICAgO1xuICAgICAgd2hpbGUgKGNoaWxkICE9PSBudWxsKSB7XG4gICAgICAgIGNoaWxkID0gY2hpbGQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleCAtIDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIERPTVJlY3Qgb2JqZWN0IHRoYXQgYm91bmRzIHRoZSBjb250ZW50cyBvZiB0aGUgcmFuZ2UuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kICgpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7fSAgICAgICAgICAtLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoZSBET01SZWN0IG9iamVjdCxcbiAgICAgKiBAc2luY2UgMC4wLjhcbiAgICAgKi9cbiAgICBjb25zdCBnZXRSZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpc1swXSA/IHRoaXNbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzL1NldHMgdGhlIHN0eWxlIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudCxcbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEsIGFyZzIpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgc3R5bGUgYXR0cmlidXRlLFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgc3R5bGUgYXR0cmlidXRlIHZhbHVlLFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9ICByZXR1cm5zIHRoZSBzdHlsZSBhdHRyaWJ1dGUgdmFsdWUgb3IgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjNcbiAgICAgKi9cbiAgICBjb25zdCBjc3MgPSBmdW5jdGlvbihzdHlsZUF0dHIsIHZhbHVlKSB7XG4gICAgICBjb25zdCBhcnIgPSB0eXBlb2Ygc3R5bGVBdHRyID09PSAnc3RyaW5nJyA/IHN0eWxlQXR0ci5zcGxpdCgnLScpIDogW107XG4gICAgICBsZXQgYXR0ciA9ICcnO1xuXG4gICAgICAvLyBDb252ZXJ0IHN0eWxlIGF0dHJpYnV0ZSBuYW1lIHdpdGggJy0nIChleC46ICdmb250LXNpemUnIHRvICdmb250U2l6ZScpOlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICBhdHRyICs9IGFycltpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhdHRyICs9IGFycltpXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGFycltpXS5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIC8vIEdldCBhdHRyaWJ1dGU6XG4gICAgICAgIHJldHVybiB0aGlzWzBdLnN0eWxlW2F0dHJdO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgYXR0cmlidXRlOlxuICAgICAgdGhpc1swXS5zdHlsZVthdHRyXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIERPTVRva2VuTGlzdCBjb2xsZWN0aW9uIG9mIHRoZSBjbGFzcyBhdHRyaWJ1dGVzIG9mIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge30gICAgICAgICAgLSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGUgRE9NVG9rZW5MaXN0IG9mIHRoZSBlbGVtZW50LFxuICAgICAqIEBzaW5jZSAwLjAuMFxuICAgICAqL1xuICAgIGNvbnN0IGdldENsYXNzTGlzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXNbMF0uY2xhc3NMaXN0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2xhc3MgbmFtZSB0byB0aGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgY2xhc3MgbmFtZSB0byBhZGQsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjBcbiAgICAgKi9cbiAgICBjb25zdCBhZGRDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgdGhpc1swXS5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3Qgb2YgY2xhc3NlcyB0byB0aGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7QXJyYXl9ICAgICB0aGUgbGlzdCBvZiBjbGFzc2VzIHRvIGFkZCxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuOFxuICAgICAqL1xuICAgIGNvbnN0IGFkZENsYXNzZXMgPSBmdW5jdGlvbihjbGFzc2VzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShjbGFzc2VzKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzWzBdLmNsYXNzTGlzdC5hZGQoY2xhc3Nlc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY2xhc3MgbmFtZSBmcm9tIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBjbGFzcyBuYW1lIHRvIHJlbW92ZSxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGlzLFxuICAgICAqIEBzaW5jZSAwLjAuMFxuICAgICAqL1xuICAgIGNvbnN0IHJlbW92ZUNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICB0aGlzWzBdLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgbGlzdCBvZiBjbGFzc2VzIGZyb20gdGhlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSAgICAgdGhlIGxpc3Qgb2YgY2xhc3NlcyB0byByZW1vdmUsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjhcbiAgICAgKi9cbiAgICBjb25zdCByZW1vdmVDbGFzc2VzID0gZnVuY3Rpb24oY2xhc3Nlcykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2xhc3NlcykpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpc1swXS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzZXNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlcyBhIGNsYXNzIG5hbWUgZm9yIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBjbGFzcyBuYW1lIHRvIGFkZC9yZW1vdmUsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjBcbiAgICAgKi9cbiAgICBjb25zdCB0b2dnbGVDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgdGhpc1swXS5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBlbGVtZW50IGhhcyB0aGUgcGFzc2VkLWluIGNsYXNzLlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSlcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBjbGFzcyBuYW1lLFxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSByZXR1cm5zIHRydWUgb3IgZmFsc2UsXG4gICAgICogQHNpbmNlIDAuMC44XG4gICAgICovXG4gICAgY29uc3QgaGFzQ2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSB0aGlzWzBdLmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgnICcpO1xuXG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGNsYXNzTmFtZSkgPT09ICdbb2JqZWN0IFN0cmluZ10nICYmIGxpc3QuaW5kZXhPZihjbGFzc05hbWUpICE9PSAtMSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBHZXRzIHRoZSBzcGVjaWZpZWQgYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQG1ldGhvZCAoYXJnMSwgYXJnMilcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBhdHRyaWJ1dGUgbmFtZSxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIGF0dHJpYnV0ZSB2YWx1ZSxcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAgcmV0dXJucyB0aGUgYXR0cmlidXRlIHZhbHVlIG9yIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC42XG4gICAgICovXG4gICAgY29uc3QgYXR0ciA9IGZ1bmN0aW9uKGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzWzBdLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpc1swXS5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgYXR0cmlidXRlIG5hbWUsXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjBcbiAgICAgKi9cbiAgICBjb25zdCByZW1vdmVBdHRyID0gZnVuY3Rpb24oYXR0cmlidXRlKSB7XG4gICAgICBpZiAoYXR0cmlidXRlKSB7XG4gICAgICAgIHRoaXNbMF0ucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBjdXN0b20gYW5pbWF0aW9uIG9mIGEgc2V0IG9mIENTUyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQG1ldGhvZCAocHJvcGVydGllcyBbLCBkdXJhdGlvbiBdIFssIGVhc2luZyBdIFssIGNvbXBsZXRlIF0pXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAgICBBbiBvYmplY3Qgb2YgQ1NTIHByb3BlcnRpZXMsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9ICAgIGRlZmluZSBob3cgbG9uZyB0aGUgYW5pbWF0aW9uIHJ1bixcbiAgICAgKiBAcGFyYW0ge0Vhc2luZ30gICAgdGhlIGVhc2luZyBhbmltYXRpb24gbWV0aG9kLFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259ICB0aGUgZnVuY3Rpb24gdG8gY2FsbCBhdCBjb21wbGV0aW9uLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC43XG4gICAgICovXG4gICAgY29uc3QgYW5pbWF0ZSA9IGZ1bmN0aW9uKHByb3BlcnRpZXMsIC4uLmFyZ3MpIHtcbiAgICAgIGNvbnN0IERUSU1FID0gNDAwXG4gICAgICAgICAgLCBGQVNUICA9IDIwMFxuICAgICAgICAgICwgU0xPVyAgPSA2MDBcbiAgICAgICAgICAsIElOQyAgID0gMTBcbiAgICAgICAgICAsIGVsZW0gID0gdGhpc1swXVxuICAgICAgICAgICwgZGVsYXkgPSBJTkNcbiAgICAgICAgICA7XG5cbiAgICAgIC8vIElzIHRoZSBhcmd1bWVudCBwcm9wZXJ0aWVzIGFuIG9iamVjdD9cbiAgICAgIGlmICghXy5pc0xpdGVyYWxPYmplY3QocHJvcGVydGllcykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIEV4dHJhY3QgdGhlIG9wdGlvbmFsIGFyZ3VtZW50czpcbiAgICAgIGNvbnN0IGFyZ3VzID0gQW5pbS5leHRyYWN0QXJncyhhcmdzKTtcblxuICAgICAgLy8gU2V0IHRoZSBkdXJhdGlvbjpcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gXy5pc051bWJlcihhcmd1cy5kdXJhdGlvbilcbiAgICAgICAgPyBhcmd1cy5kdXJhdGlvblxuICAgICAgICA6IChmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICBpZiAoYXJnID09PSAnZmFzdCcpIHJldHVybiBGQVNUO1xuICAgICAgICAgIGlmIChhcmcgPT09ICdzbG93JykgcmV0dXJuIFNMT1c7XG4gICAgICAgICAgcmV0dXJuIERUSU1FO1xuICAgICAgICB9KGFyZ3VzLmR1cmF0aW9uKSk7XG5cbiAgICAgIC8vIFNldCB0aGUgZWFzaW5nIChzd2luZyBvbmx5IGZvciB0aGUgdGltZSBiZWluZyk6XG4gICAgICBjb25zdCBlYXNpbmcgPSAoQW5pbS5lYXNpbmcgJiYgQW5pbS5lYXNpbmdbYXJndXMuZWFzaW5nXSlcbiAgICAgICAgPyBBbmltLmVhc2luZ1thcmd1cy5lYXNpbmddXG4gICAgICAgIDogQW5pbS5zd2luZztcblxuICAgICAgLy8gU2V0IHRoZSBjYWxsYmFjazpcbiAgICAgIGNvbnN0IGNhbGxiYWNrID0gYXJndXMuY2FsbGJhY2sgPyBhcmd1cy5jYWxsYmFjayA6IG51bGw7XG5cbiAgICAgIC8vIFJ1biB0aGUgYW5pbWF0aW9uOlxuICAgICAgQW5pbS5ydW4oZWxlbSwgcHJvcGVydGllcywgZWFzaW5nLCBkdXJhdGlvbiwgZGVsYXksIGNhbGxiYWNrKTtcblxuICAgICAgLy8gVGVzdCBNb2RlOlxuICAgICAgaWYgKFZpenUudmRvbSkge1xuICAgICAgICB0aGlzLnByb2JlID0ge1xuICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgIGVhc2luZzogKEFuaW0uZWFzaW5nICYmIEFuaW0uZWFzaW5nW2FyZ3VzLmVhc2luZ10pID8gYXJndXMuZWFzaW5nIDogJ3N3aW5nJyxcbiAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEF0dGFjaHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGN1cnJlbnQgbm9kZS5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgKGFyZzEsIGFyZzIpXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgRE9NIGV2ZW50IHN0cmluZyxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSAgdGhlIGxpc3RuZXIgZnVuY3Rpb24sXG4gICAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgdGhpcyxcbiAgICAgKiBAc2luY2UgMC4wLjVcbiAgICAgKi9cbiAgICBjb25zdCBvbiA9IGZ1bmN0aW9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgdGhpc1swXS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBmcm9tIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIChhcmcxLCBhcmcyKVxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIERPTSBldmVudCBzdHJpbmcsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gIHRoZSBsaXN0bmVyIGZ1bmN0aW9uLFxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoaXMsXG4gICAgICogQHNpbmNlIDAuMC41XG4gICAgICovXG4gICAgY29uc3Qgb2ZmID0gZnVuY3Rpb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICB0aGlzWzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvLyAtLSBNYWluXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICAvLyBTZWxlY3RzIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3Iocyk6XG4gICAgICBlbCA9IGRvY3UucXVlcnlTZWxlY3RvcihgIyR7Y2lkfWApLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTZWxlY3RzIHRoZSBlbnRpcmUgJ3dlYiBjb21wb25lbnQnOlxuICAgICAgZWwgPSBkb2N1LnF1ZXJ5U2VsZWN0b3IoYCMke2NpZH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgMDogZWwsXG4gICAgICBpZDogZWwgPyBlbC5pZCA6IG51bGwsXG4gICAgICBzZWxlY3QsXG4gICAgICBzZWxlY3RDaGlsZCxcbiAgICAgIHBhcmVudCxcbiAgICAgIGZpcnN0UGFyZW50LFxuICAgICAgaHRtbCxcbiAgICAgIGVtcHR5LFxuICAgICAgYXBwZW5kLFxuICAgICAgcHJlcGVuZCxcbiAgICAgIGFmdGVyLFxuICAgICAgYmVmb3JlLFxuICAgICAgcmVwbGFjZVdpdGgsXG4gICAgICB0ZXh0LFxuICAgICAgY2xvbmUsXG4gICAgICBpbnNlcnRDaGlsZEJlZm9yZSxcbiAgICAgIHJlbW92ZUNoaWxkLFxuICAgICAgcmVwbGFjZUNoaWxkLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBjaGlsZEluZGV4LFxuICAgICAgZ2V0UmVjdCxcbiAgICAgIGNzcyxcbiAgICAgIGdldENsYXNzTGlzdCxcbiAgICAgIGFkZENsYXNzLFxuICAgICAgYWRkQ2xhc3NlcyxcbiAgICAgIHJlbW92ZUNsYXNzLFxuICAgICAgcmVtb3ZlQ2xhc3NlcyxcbiAgICAgIHRvZ2dsZUNsYXNzLFxuICAgICAgaGFzQ2xhc3MsXG4gICAgICBhdHRyLFxuICAgICAgcmVtb3ZlQXR0cixcbiAgICAgIGFuaW1hdGUsXG4gICAgICBvbixcbiAgICAgIG9mZixcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEF0dGFjaGVzIGV2ZW50KHMpIHRvIHRoZSBnaXZlbiBub2RlLlxuICAgKlxuICAgKiBAbWV0aG9kIChhcmcxLCBhcmcyKVxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgICB0aGUgRE9NIGV2ZW50IG5hbWUsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICB0aGUgZXZlbnQgbGlzdGVuZXIsXG4gICAqIEByZXR1cm5zIHtGdW50aW9ufSByZXR1cm5zIHRoaXMsXG4gICAqIEBzaW5jZSAwLjAuNVxuICAgKi9cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZXZlbnRzKCkge1xuICAgIC8vIEp1c3QgdG8gYXZvaWQgZXNsaW50IGVycm9yIVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGRlZmluZWQgd2ViIGNvbXBvbmVudC5cbiAgICpcbiAgICogQG1ldGhvZCAoKVxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7fSAgICAgICAgICAtLFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSAgcmV0dXJucyB0aGUgd2ViIGNvbXBvbmVudCxcbiAgICogQHNpbmNlIDAuMC4wXG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIGA8ZGl2PiR7dGhpcy5pZH08L2Rpdj5gO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3NlcyB0aGUgd2ViIGNvbXBvbmVudCB0byBjb252ZXJ0IGNoaWxkKHMpIHRvIHBsYWluIEhUTUwuXG4gICAqXG4gICAqIEBtZXRob2QgKClcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHt9ICAgICAgICAgIC0sXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9ICByZXR1cm5zIHRoZSB3ZWIgY29tcG9uZW50LFxuICAgKiBAc2luY2UgMC4wLjBcbiAgICovXG4gIGdldCByZW5kZXJlZCgpIHtcbiAgICBsZXQgdDtcbiAgICAvLyBJbml0aWFsaXplczpcbiAgICB0aGlzLmdldEluaXRpYWxTdGF0ZSgpO1xuICAgIC8vIEFkZCBhbiB1bmlxdWUgSUQgdG8gdGhpcyBjb21wb25lbnQ6XG4gICAgLy8gbGV0IHQgPSB0aGlzLnJlbmRlcigpLnJlcGxhY2UoLzxkaXY+LywgYDxkaXYgaWQ9XCIke3RoaXMuaWR9XCI+YCk7XG4gICAgY29uc3QgY28gPSB0aGlzLnJlbmRlcigpO1xuICAgIGlmIChjby5tYXRjaCgvXlxccyo8ZGl2LykpIHtcbiAgICAgIHQgPSBjby5yZXBsYWNlKC9eXFxzKjxkaXYvLCBgPGRpdiBpZD0gXCIke3RoaXMuaWR9XCJgKTtcbiAgICB9IGVsc2UgaWYgKGNvLm1hdGNoKC9eXFxzKjxoZWFkZXIvKSkge1xuICAgICAgdCA9IGNvLnJlcGxhY2UoL15cXHMqPGhlYWRlci8sIGA8aGVhZGVyIGlkPSBcIiR7dGhpcy5pZH1cImApO1xuICAgIH0gZWxzZSBpZiAoY28ubWF0Y2goL15cXHMqPGZvb3Rlci8pKSB7XG4gICAgICB0ID0gY28ucmVwbGFjZSgvXlxccyo8Zm9vdGVyLywgYDxmb290ZXIgaWQ9IFwiJHt0aGlzLmlkfVwiYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHQgPSBjbztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jTGlzdCkge1xuICAgICAgLy8gVGhpcyBjb21wb25lbnQgaW5jbHVkZXMgY29tcG9uZW50cywgcmVuZGVyIHRoZW06XG4gICAgICB0aGlzLmNvbXBvbmVudHMgPSB7fTtcbiAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNMaXN0KTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjID0gbmV3IHRoaXMuY0xpc3Rba2V5c1tpXV0oKTtcbiAgICAgICAgdCA9IHQucmVwbGFjZShrZXlzW2ldLCBjLnJlbmRlcmVkKTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzW2tleXNbaV0ucmVwbGFjZSgvW15hLXpBLXowLTldL2csICcnKV0gPSBjO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZXR1cm4gdGhlIHJlbmRlcmVkIHdlYiBjb21wb25lbnQ6XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2Vzc2VzIHRoZSB3ZWIgY29tcG9uZW50IGV2ZW50cy5cbiAgICpcbiAgICogQG1ldGhvZCAoKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge30gICAgICAgICAgLSxcbiAgICogQHJldHVybnMge30gICAgICAgIC0sXG4gICAqIEBzaW5jZSAwLjAuNVxuICAgKi9cbiAgZ2V0IGV2ZW50ZWQoKSB7XG4gICAgdGhpcy5ldmVudHMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnQ7XG4iLCIvKiBnbG9iYWwgKi9cbi8qIGVzbGludCBvbmUtdmFyOiAwICovXG5cbi8vIC0tIFZlbmRvciBtb2R1bGVzXG5cbi8vIC0tIExvY2FsIG1vZHVsZXNcbmltcG9ydCBfIGZyb20gJy4vb3ZlcnNsYXNoJztcbmltcG9ydCB1IGZyb20gJy4vdXRpbGl0aWVzJztcblxuLy8gLS0gR2xvYmFsIGNvbnN0YW50cyAoaW4gdGhlIHNjb3BlIG9mIHRoaXMgbW9kdWxlKVxuXG5cbi8vIC0tIFB1YmxpYyBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogRXh0cmFjdHMgdGhlIG9wdGlvbmFsIGFyZ3VtZW50IG9mICdhbmltYXRlJy5cbiAgICpcbiAgICogQGZ1bmN0aW9uIChhcmcxLCBhcmcyLCBhcmczKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0gez99ICAgICAgICAgZHVyYXRpb24sIGVhc2luZyBvciBjYWxsYmFjayxcbiAgICogQHBhcmFtIHs/fSAgICAgICAgIGVhc2luZyBvciBjYWxsYmFjayxcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBmdW5jdGlvbiB0byBjYWxsIGF0IGNvbXBsZXRpb24sXG4gICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIGR1cmF0aW9uLCBlYXNpbmdcbiAgICogICAgICAgICAgICAgICAgICAgIGFuZCBjYWxsYmFjayxcbiAgICogQHNpbmNlIDAuMC43XG4gICAqL1xuICBleHRyYWN0QXJncyguLi5hcmcpIHtcbiAgICBjb25zdCBuYiA9IGFyZ1swXS5sZW5ndGhcbiAgICAgICAgLCBhcmdzID0gYXJnWzBdXG4gICAgICAgIDtcblxuICAgIGxldCBkdXJhdGlvblxuICAgICAgLCBlYXNpbmdcbiAgICAgICwgY2FsbGJhY2tcbiAgICAgIDtcblxuICAgIHN3aXRjaCAobmIpIHtcbiAgICAgIGNhc2UgMDpcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMTpcbiAgICAgICAgaWYgKF8uaXNOdW1iZXIoYXJnc1swXSkgfHwgYXJnc1swXSA9PT0gJ2Zhc3QnIHx8IGFyZ3NbMF0gPT09ICdzbG93Jykge1xuICAgICAgICAgIGR1cmF0aW9uID0gYXJnc1swXTtcbiAgICAgICAgfSBlbHNlIGlmIChfLmlzU3RyaW5nKGFyZ3NbMF0pKSB7XG4gICAgICAgICAgZWFzaW5nID0gYXJnc1swXTtcbiAgICAgICAgfSBlbHNlIGlmIChfLmlzRnVuY3Rpb24oYXJnc1swXSkpIHtcbiAgICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMF07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgMjpcbiAgICAgICAgaWYgKF8uaXNOdW1iZXIoYXJnc1swXSkgfHwgYXJnc1swXSA9PT0gJ2Zhc3QnIHx8IGFyZ3NbMF0gPT09ICdzbG93Jykge1xuICAgICAgICAgIGR1cmF0aW9uID0gYXJnc1swXTtcbiAgICAgICAgICBpZiAoXy5pc1N0cmluZyhhcmdzWzFdKSkge1xuICAgICAgICAgICAgZWFzaW5nID0gYXJnc1sxXTtcbiAgICAgICAgICB9IGVsc2UgaWYgKF8uaXNGdW5jdGlvbihhcmdzWzFdKSkge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBhcmdzWzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfLmlzU3RyaW5nKGFyZ3NbMF0pKSB7XG4gICAgICAgICAgZWFzaW5nID0gYXJnc1swXTtcbiAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGFyZ3NbMV0pKSB7XG4gICAgICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDM6XG4gICAgICAgIGlmIChfLmlzTnVtYmVyKGFyZ3NbMF0pIHx8IGFyZ3NbMF0gPT09ICdmYXN0JyB8fCBhcmdzWzBdID09PSAnc2xvdycpIHtcbiAgICAgICAgICBkdXJhdGlvbiA9IGFyZ3NbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uaXNTdHJpbmcoYXJnc1sxXSkpIHtcbiAgICAgICAgICBlYXNpbmcgPSBhcmdzWzFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmlzRnVuY3Rpb24oYXJnc1syXSkpIHtcbiAgICAgICAgICBjYWxsYmFjayA9IGFyZ3NbMl07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGR1cmF0aW9uLFxuICAgICAgZWFzaW5nLFxuICAgICAgY2FsbGJhY2ssXG4gICAgfTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBDU1MgcHJvcGVydHkgdmFsdWVzIGZvciB0aGUgZ2l2ZW4gbm9kZS5cbiAgICpcbiAgICogQGZ1bmN0aW9uIChhcmcxLCBhcmcyKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIGdpdmVuIG5vZGUsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgQ1NTIHByb3BlcnRpZXMgdG8gYW5pbWF0ZSxcbiAgICogQHJldHVybnMge09iamVjdH0gIHJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgaW5pdGlhbCwgY2hhbmdlLCBzdWZmaXhcbiAgICogICAgICAgICAgICAgICAgICAgIHBlciBhbmltYXRlZCBwcm9wZXJ0eSxcbiAgICogQHNpbmNlIDAuMC43XG4gICAqL1xuICBnZXRQcm9wcyhlbCwgcHJvcGVydGllcykge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKVxuICAgICAgICAsIHByb3BzID0ge31cbiAgICAgICAgLCBuYW1lcyA9IFtdXG4gICAgICAgIDtcblxuICAgIGxldCBuYW1lXG4gICAgICAsIGlcbiAgICAgIDtcblxuICAgIC8vIFBhcnNlIHRoZSBwcm9wZXJ0aWVzOlxuICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBOb3JtYWxpemUgdGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5OlxuICAgICAgbmFtZSA9IHUubm9ybWFsaXplQ3NzUHJvcGVydHlOYW1lKGtleXNbaV0pO1xuICAgICAgLy8gQ2hlY2sgaXQgaXMgYSB2YWxpZCBDU1MgcHJvcGVydHk6XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0pIHtcbiAgICAgICAgbmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgcHJvcHNbbmFtZV0gPSB7XG4gICAgICAgICAgaW5pdGlhbDogcGFyc2VGbG9hdChlbC5zdHlsZVtuYW1lXSwgMTApLFxuICAgICAgICAgIGNoYW5nZTogcGFyc2VGbG9hdChwcm9wZXJ0aWVzW2tleXNbaV1dKSAtIHBhcnNlRmxvYXQoZWwuc3R5bGVbbmFtZV0pLFxuICAgICAgICAgIHN1ZmZpeDogZWwuc3R5bGVbbmFtZV0ucmVwbGFjZSgvWzAtOS5dL2csICcnKSxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcHJvcHMubmFtZSA9IG5hbWVzO1xuICAgIHJldHVybiBwcm9wcztcbiAgfSxcblxuICAvKipcbiAgICogVXBkYXRlcyBkeW5hbWljYWxseSB0aGUgQ1NTIHByb3BlcnRpZXMgZnJvbSB0aGVpciBpbml0aWFsIHZhbHVlIHRvIHRoZWlyIGZpbmFsLlxuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQsIGFyZzUsIGFyZzYpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgZ2l2ZW4gbm9kZSxcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBDU1MgcHJvcGVydGllcyB0byB1cGRhdGUsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICB0aGUgZWFzaW5nIG1ldGhvZCxcbiAgICogQHBhcmFtIHtOdW1iZXJ9ICAgIHRoZSBhbmltYXRpb24gZHVyYXRpb24sXG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgICB0aGUgYW5pbWF0aW9uIHN0ZXAsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259ICB0aGUgZnVuY3Rpb24gdG8gY2FsbCBhdCB0aGUgY29tcGxldGlvbixcbiAgICogQHJldHVybnMge30gICAgICAgIC0sXG4gICAqIEBzaW5jZSAwLjAuN1xuICAgKi9cbiAgcnVuKGVsLCBwcm9wZXJ0aWVzLCBlYXNpbmcsIGR1cmF0aW9uLCBkZWxheSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBwcm9wcyA9IHRoaXMuZ2V0UHJvcHMoZWwsIHByb3BlcnRpZXMpXG4gICAgICAgICwgZWxlbSA9IGVsXG4gICAgICAgIDtcblxuICAgIGxldCBsYXBzZU9mVGltZSA9IDBcbiAgICAgIDtcblxuICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgbGFwc2VPZlRpbWUgKz0gZGVsYXk7XG4gICAgICBpZiAobGFwc2VPZlRpbWUgPiBkdXJhdGlvbikge1xuICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgLy8gZWFzaW5nOlxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wcy5uYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsZW0uc3R5bGVbcHJvcHMubmFtZVtpXV0gPSBlYXNpbmcoXG4gICAgICAgICAgbGFwc2VPZlRpbWUsXG4gICAgICAgICAgcHJvcHNbcHJvcHMubmFtZVtpXV0uaW5pdGlhbCxcbiAgICAgICAgICBwcm9wc1twcm9wcy5uYW1lW2ldXS5jaGFuZ2UsXG4gICAgICAgICAgZHVyYXRpb24pICsgcHJvcHNbcHJvcHMubmFtZVtpXV0uc3VmZml4O1xuICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgZWFzaW5nIG1ldGhvZCAoaWYgUGljb1EuZWFzaW5nLmUoKSBhcmVuJ3QgcHJvdmlkZWQpLlxuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7TnVtYmVyfSAgICB0aGUgY3VycmVudCBsYXBzZSB0aW1lLFxuICAgKiBAcGFyYW0ge051bWJlcn0gICAgdGhlIGluaXRpYWwgQ1NTIHByb3BlcnR5IHZhbHVlLFxuICAgKiBAcGFyYW0ge051bWJlcn0gICAgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZmluYWwgYW5kIHRoZSBpbml0aWFsIHZhbHVlLFxuICAgKiBAcGFyYW0ge051bWJlcn0gICAgdGhlIGFuaW1hdGlvbiBkdXJhdGlvbixcbiAgICogQHJldHVybnMge051bWJlcn0gIHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBDU1MgcHJvcGVydHkgYXQgdGhlIGN1cnJlbnQgbGFwc2UgdGltZSxcbiAgICogQHNpbmNlIDAuMC43XG4gICAqL1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1taXhlZC1vcGVyYXRvcnMgKi9cbiAgc3dpbmcodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogKDAuNSAtIE1hdGguY29zKHQgLyBkICogTWF0aC5QSSkgLyAyKSArIGI7XG4gIH0sIC8qIGVzbGludC1lbmFibGUgbm8tbWl4ZWQtb3BlcmF0b3JzICovXG59OyAvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVyc2NvcmUtZGFuZ2xlICovXG4iLCIvKiBnbG9iYWwgKi9cbi8qIGVzbGludCBvbmUtdmFyOiAwICovXG5cbi8vIC0tIFZlbmRvciBtb2R1bGVzXG5cbi8vIC0tIExvY2FsIG1vZHVsZXNcblxuLy8gLS0gR2xvYmFsIGNvbnN0YW50cyAoaW4gdGhlIHNjb3BlIG9mIHRoaXMgbW9kdWxlKVxuXG5cbi8vIC0tIFB1YmxpYyBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogSXMgYSBnaXZlbiB2YWx1ZSBhIHN0cmluZz9cbiAgICpcbiAgICogQGZ1bmN0aW9uIChhcmcxKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgICB0aGUgb2JqZWN0IHRvIHRlc3QsXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSAgIHJldHVybnMgdHJ1ZSBvciBmYWxzZSxcbiAgICogQHNpbmNlIDAuMC43XG4gICAqL1xuICBpc1N0cmluZyhvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJcyBhIGdpdmVuIHZhbHVlIGEgbnVtYmVyP1xuICAgKlxuICAgKiBAZnVuY3Rpb24gKGFyZzEpXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICAgIHRoZSBvYmplY3QgdG8gdGVzdCxcbiAgICogQHJldHVybnMge0Jvb2xlYW59ICAgcmV0dXJucyB0cnVlIG9yIGZhbHNlLFxuICAgKiBAc2luY2UgMC4wLjdcbiAgICovXG4gIGlzTnVtYmVyKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgTnVtYmVyXSc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIElzIGEgZ2l2ZW4gdmFyaWFibGUgYSBsaXRlcmFsIG9iamVjdD9cbiAgICpcbiAgICogQGZ1bmN0aW9uIChhcmcxKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIG9iamVjdCB0byB0ZXN0LFxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gcmV0dXJucyB0cnVlIG9yIGZhbHNlLFxuICAgKiBAc2luY2UgMC4wLjdcbiAgICovXG4gIGlzTGl0ZXJhbE9iamVjdChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJcyBhIGdpdmVuIHZhcmlhYmxlIGEgZnVuY3Rpb24/XG4gICAqXG4gICAqIEBmdW5jdGlvbiAoYXJnMSlcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBvYmplY3QgdG8gdGVzdCxcbiAgICogQHJldHVybnMge0Jvb2xlYW59IHJldHVybnMgdHJ1ZSBvciBmYWxzZSxcbiAgICogQHNpbmNlIDAuMC43XG4gICAqL1xuICBpc0Z1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfSxcbn07XG4iLCIvKiBnbG9iYWwgKi9cbi8qIGVzbGludCBvbmUtdmFyOiAwICovXG5cbi8vIC0tIFZlbmRvciBtb2R1bGVzXG5cbi8vIC0tIExvY2FsIG1vZHVsZXNcbmltcG9ydCBfIGZyb20gJy4vb3ZlcnNsYXNoJztcblxuLy8gLS0gR2xvYmFsIGNvbnN0YW50cyAoaW4gdGhlIHNjb3BlIG9mIHRoaXMgbW9kdWxlKVxuXG5cbi8vIC0tIFB1YmxpYyBNZXRob2RzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvKipcbiAgICogTm9ybWFsaXplcyB0aGUgQ1NTIHByb3BlcnRpZXMuXG4gICAqIChyZXBsYWNlICctJyBiZXR3ZWVuIGNvbXBvc2l0ZSBuYW1lIGJ5IGNhbWVsY2FzZSBzdHlsZSkuXG4gICAqIEV4OiBmb250LXNpemUgLT4gZm9udFNpemVcbiAgICpcbiAgICogQGZ1bmN0aW9uIChhcmcxKVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIENTUyBwcm9wZXJ0eSBuYW1lLFxuICAgKiBAcmV0dXJucyB7U3RyaW5nfSAgdGhlIG5vcm1hbGl6ZWQgQ1NTIHByb3BlcnR5IG5hbWUsXG4gICAqIEBzaW5jZSAwLjAuN1xuICAgKi9cbiAgbm9ybWFsaXplQ3NzUHJvcGVydHlOYW1lKG5hbWUpIHtcbiAgICBjb25zdCBhcnIgPSBfLmlzU3RyaW5nKG5hbWUpID8gbmFtZS5zcGxpdCgnLScpIDogW11cbiAgICAgICAgO1xuXG4gICAgbGV0IG5vcm1hbGl6ZWQgPSAnJ1xuICAgICAgO1xuXG4gICAgLy8gQ29udmVydCBuYW1lIHdpdGggJy0nIChleC46ICdmb250LXNpemUnIHRvICdmb250U2l6ZScpOlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICBub3JtYWxpemVkICs9IGFycltpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vcm1hbGl6ZWQgKz0gYXJyW2ldLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYXJyW2ldLnNsaWNlKDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgfSxcbn07XG4iLCIvKiBnbG9iYWwgZG9jdW1lbnQgKi9cbi8qIGVzbGludCBpbmRlbnQ6IFtcImVycm9yXCIsIDIsIHsgXCJWYXJpYWJsZURlY2xhcmF0b3JcIjogeyBcInZhclwiOiAxLCBcImxldFwiOiAxLCBcImNvbnN0XCI6IDIgfSB9XSAqL1xuLyogZXNsaW50IG9uZS12YXI6IDAsIG5vLXBhcmFtLXJlYXNzaWduOiAwLCBtYXgtbGVuOiBbMSwgMTMwXSxcbiAgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBbXCJlcnJvclwiLCB7IFwiYWxsb3dUZXJuYXJ5XCI6IHRydWUgfV0sIG5vLXVuZGVyc2NvcmUtZGFuZ2xlOiAwLFxuICBuby1wcm90bzogMSwgcHJlZmVyLXJlc3QtcGFyYW1zOiAxICovXG5cbi8vIC0tIFZlbmRvciBtb2R1bGVzXG5cbi8vIC0tIExvY2FsIG1vZHVsZXNcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG4vLyAtLSBHbG9iYWwgY29uc3RhbnRzIChpbiB0aGUgc2NvcGUgb2YgdGhpcyBtb2R1bGUpXG5cblxuLy8gLS0gUHJpdmF0ZSBGdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBwYXRoIG9mIHRoZSBtYXRjaGluZyBXZWIgQ29tcG9uZW50LlxuICpcbiAqIEBmdW5jdGlvbiAoKVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgdmlldyBvYmplY3QsXG4gKiBAcGFyYW0ge1N0cmluZ30gICAgdGhlIHRhZyBkZWZpbmluZyBhIFdlYiBDb21wb25lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9ICB0aGUgcGF0aCBvZiB0aGUgbWF0Y2hpbmcgV2ViIENvbXBvbmVudCxcbiAqL1xuY29uc3QgZXhwbG9yZSA9IGZ1bmN0aW9uKHZpZXcsIHRhZykge1xuICBpZiAodmlldy5jTGlzdCAmJiB2aWV3LmNMaXN0W3RhZ10pIHtcbiAgICByZXR1cm4gdmlldztcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmlldyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICh2aWV3W2tleXNbaV1dLmNMaXN0KSB7XG4gICAgICBpZiAodmlld1trZXlzW2ldXS5jTGlzdFt0YWddKSB7XG4gICAgICAgIHJldHVybiB2aWV3W2tleXNbaV1dO1xuICAgICAgfVxuICAgICAgaWYgKHZpZXdba2V5c1tpXV0uY29tcG9uZW50cykge1xuICAgICAgICByZXR1cm4gZXhwbG9yZSh2aWV3W2tleXNbaV1dLmNvbXBvbmVudHMsIHRhZyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBBdHRhY2hlcyBldmVudHMgdG8gdGhlIHJlbmRlcmVkIGNvbXBvbmVudHMuXG4gKlxuICogQGZ1bmN0aW9uIChhcmcxKVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgdmlldyBvYmplY3QsXG4gKiBAcmV0dXJucyB7fSAgICAgICAgLSxcbiAqL1xuY29uc3QgYXR0YWNoRXZlbnRzID0gZnVuY3Rpb24odmlldykge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cbiAgaWYgKHZpZXcuY0xpc3QpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModmlldy5jTGlzdCk7XG4gICAgbGV0IGZuO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXZpZXcuY29tcG9uZW50cykge1xuICAgICAgICAvLyBFeHRyYWN0IGNvbXBvbmVudHMgYXQgdGhlIGZpcnN0IGxldmVsOlxuICAgICAgICBmbiA9IHZpZXdba2V5c1tpXS5yZXBsYWNlKC9bXmEtekEtejAtOV0vZywgJycpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEV4dHJhY3QgY29tcG9uZW50cyBhdCBsZXZlbHMgbiArIDE6XG4gICAgICAgIGZuID0gdmlldy5jb21wb25lbnRzW2tleXNbaV0ucmVwbGFjZSgvW15hLXpBLXowLTldL2csICcnKV07XG4gICAgICB9XG4gICAgICAvLyBSdW4gQ29tcG9uZW50IGV2ZW50cyBmdW5jdGlvbjpcbiAgICAgIGZuLmV2ZW50ZWQ7XG4gICAgICAvLyBQcm9jZXNzIHN1YiBjb21wb25lbnRzIHJlY3Vyc2l2ZWx5OlxuICAgICAgYXR0YWNoRXZlbnRzKGZuKTtcbiAgICB9XG4gIH1cbn07IC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG5cbi8qKlxuICogQ29kZSByZXVzZWQgZnJvbSBCYWJlbFxuICovXG5jb25zdCBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSB7XG4gICAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykge1xuICAgICAgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIH1cbiAgICBpZiAoc3RhdGljUHJvcHMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgfVxuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKSk7XG5cbi8qKlxuICogQ29kZSByZXVzZWQgZnJvbSBCYWJlbFxuICovXG5jb25zdCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiA9IGZ1bmN0aW9uKHNlbGYsIGNhbGwpIHtcbiAgaWYgKCFzZWxmKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cbiAgcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgY2FsbCA9PT0gJ2Z1bmN0aW9uJykgPyBjYWxsIDogc2VsZjtcbn07XG5cbi8qKlxuICogQ29kZSByZXVzZWQgZnJvbSBCYWJlbFxuICovXG5jb25zdCBfaW5oZXJpdHMgPSBmdW5jdGlvbihzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICdmdW5jdGlvbicgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAke3R5cGVvZiBzdXBlckNsYXNzfWApO1xuICB9XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0gfSk7XG5cbiAgaWYgKHN1cGVyQ2xhc3MpIHtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbiAgfVxufTtcblxuLyoqXG4gKiBDb2RlIHJldXNlZCBmcm9tIEJhYmVsXG4gKi9cbmNvbnN0IF9jbGFzc0NhbGxDaGVjayA9IGZ1bmN0aW9uKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7XG4gIH1cbn07XG5cbi8qKlxuICogQ29kZSByZXVzZWQgZnJvbSBCYWJlbFxuICovXG5jb25zdCBfc3ViQ2xhc3MgPSBmdW5jdGlvbihTdXBlckNsYXNzLCBtKSB7XG4gIGZ1bmN0aW9uIFN1YkNsYXNzKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdWJDbGFzcyk7XG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTdWJDbGFzcy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN1YkNsYXNzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cbiAgX2luaGVyaXRzKFN1YkNsYXNzLCBTdXBlckNsYXNzKTtcblxuICBfY3JlYXRlQ2xhc3MoU3ViQ2xhc3MsIG0pO1xuXG4gIHJldHVybiBTdWJDbGFzcztcbn07XG5cblxuLy8gLS0gUHVibGljIE1ldGhvZHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4qIFRoaXMgbGlicmFyeSByZW5kZXJzIHRoZSBWaWV3IGluIHRoZSBET00uXG4qXG4qIEBuYW1lc3BhY2UgVml6dVxuKi9cbmNvbnN0IFZpenUgPSB7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhpcyBsaWJyYXJ5LlxuICAgKlxuICAgKiBAbWV0aG9kICgpXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHt9ICAgICAgICAgIC0sXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9ICByZXR1cm5zIHRoZSB2ZXJzaW9uIG9mIHRoaXMgbGlicmFyeSxcbiAgICovXG4gIHZlcnNpb24oKSB7XG4gICAgcmV0dXJuICd7e2xpYjp2ZXJzaW9ufX0nO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSBWaWV3IGluIHRoZSBET00uXG4gICAqXG4gICAqIEBtZXRob2QgKGFyZzEsIGFyZzIsIGFyZzMpXG4gICAqIEBwdWJsaWNcbiAgICogQHBhcmFtIHtTdHJpbmd9ICAgIHRoZSBhZ2dyZWdhdGVkIHdlYiBjb21wb25lbnRzLFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIGxpc3Qgb2Ygd2ViIGNvbXBvbmVudHMgYW5kIHRoZWlyIHJlZmVyZW5jZSxcbiAgICogQHBhcmFtIHtPYmplY3R9ICAgIHRoZSBET00gZWxlbWVudCB3aGVyZSB0aGUgdmlldyAodGhlIGFnZ3JlZ2F0ZSBvZiB3ZWIgY29tcG9uZW50cykgaXMgaW5zZXJ0ZWQsXG4gICAqIEByZXR1cm5zIHtPYmplY3R9ICByZXR1cm5zIHRoZSB2aWV3IG9iamVjdCxcbiAgICogQHNpbmNlIDAuMC4wXG4gICAqL1xuICByZW5kZXIodGVtcGxhdGUsIGNMaXN0LCBlbCkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY0xpc3QpID09PSAnW29iamVjdCBPYmplY3RdJyA/IE9iamVjdC5rZXlzKGNMaXN0KSA6IFtdXG4gICAgICAgICwgdmlldyA9IHt9XG4gICAgICAgIDtcbiAgICBsZXQgdDtcblxuICAgIC8vIFJldHVybiBudWxsIGlmIHRoZSB0ZW1wbGF0ZSBpcyBub3QgYSBzdHJpbmc6XG4gICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIElmIG5vIGNvbXBvbmVudHMsIHJlbmRlciB0aGUgdGVtcGxhdGUgYXMgaXM6XG4gICAgaWYgKCFjTGlzdCkge1xuICAgICAgaWYgKGVsKSB7XG4gICAgICAgIGVsLmlubmVySFRNTCA9IHRlbXBsYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVml6dS52ZG9tXG4gICAgICAgICAgPyAoVml6dS52ZG9tLndpbmRvdy5kb2N1bWVudC5ib2R5LmlubmVySFRNTCArPSB0ZW1wbGF0ZSlcbiAgICAgICAgICA6IChkb2N1bWVudC5ib2R5LmlubmVySFRNTCArPSB0ZW1wbGF0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBUaGlzIHZpZXcgaW5jbHVkZXMgY29tcG9uZW50cywgcmVuZGVyIHRoZW06XG4gICAgdCA9IHRlbXBsYXRlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgYyA9IG5ldyBjTGlzdFtrZXlzW2ldXSgpO1xuICAgICAgdCA9IHQucmVwbGFjZShrZXlzW2ldLCBjLnJlbmRlcmVkKTtcbiAgICAgIHZpZXdba2V5c1tpXS5yZXBsYWNlKC9bXmEtekEtejAtOV0vZywgJycpXSA9IGM7XG4gICAgfVxuICAgIC8vIEF0dGFjaCBjTGlzdDpcbiAgICB2aWV3LmNMaXN0ID0ga2V5cy5sZW5ndGggPiAwID8gY0xpc3QgOiBudWxsO1xuXG4gICAgLy8gRmlsbCB0aGUgRE9NOlxuICAgIGlmIChlbCkge1xuICAgICAgZWwuaW5uZXJIVE1MID0gdDtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwgPSBWaXp1LnZkb20gPyBWaXp1LnZkb20ud2luZG93LmRvY3VtZW50LmJvZHkgOiBkb2N1bWVudC5ib2R5O1xuICAgICAgLy8gQXR0YWNoIHRoZSBjb21wb25lbnQgdG8gdGhlIGJvZHkgYXMgdGhlIGZpcnN0IGNoaWxkOlxuICAgICAgZWwuaW5uZXJIVE1MID0gdCArIGVsLmlubmVySFRNTDtcbiAgICB9XG5cbiAgICAvLyBBdHRhY2ggZXZlbnQocylcbiAgICAvLyBwYXJzZSBhbGwgY29tcG9uZW50cyBhbmQgZm9yIGVhY2ggY29tcG9uZW50IGV4ZWN1dGUgZXZlbnRlZCFcbiAgICBhdHRhY2hFdmVudHModmlldyk7XG5cbiAgICAvLyBBdHRhY2ggcGFyZW50IGVsZW1lbnQ6XG4gICAgdmlldy5lbCA9IGVsO1xuXG4gICAgLy8gUmV0dXJuIHRoZSByZW5kZXJlZCBvYmplY3QgKHdpdGggYSByZWZlcmVuY2UgdG8gYWxsIHRoZSB3ZWIgY29tcG9uZW50cyk6XG4gICAgcmV0dXJuIHZpZXc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlcGxhY2VzIGEgY29tcG9uZW50IHdpdGggYW5vdGhlciBjb21wb25lbnQgaGF2aW5nIHRoZSBzYW1lIHRhZy5cbiAgICpcbiAgICogQG1ldGhvZCAoYXJnMSwgYXJnMilcbiAgICogQHB1YmxpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIHZpZXcgb2JqZWN0LFxuICAgKiBAcGFyYW0ge09iamVjdH0gICAgdGhlIG5ldyBjb21wb25lbnQgKHsgJzxBYWEgLz4nOiAnbmV3IGNsYXNzJyB9KSxcbiAgICogQHJldHVybnMge30gICAgICAgIC0sXG4gICAqIEBzaW5jZSAwLjAuMFxuICAgKi9cbiAgcmVwbGFjZSh2aWV3LCBjb21wb25lbnQpIHtcbiAgICBsZXQgaWRcbiAgICAgICwgdHlwZVxuICAgICAgO1xuXG4gICAgLy8gQ2hlY2sgdGhhdCB2aWV3IGlzIGFuIG9iamVjdCB3aXRoLCBhdCBsZWFzdCwgdGhlIHByb3BlcnRpZXMgY0xpc3QgYW5kIGVsOlxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmlldykgIT09ICdbb2JqZWN0IE9iamVjdF0nIHx8ICF2aWV3LmNMaXN0IHx8ICF2aWV3LmVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdGhhdCBjb21wb25lbnQgaXMgYW4gb2JqZWN0OlxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY29tcG9uZW50KSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIHRoZSBuZXcgY29tcG9uZW50OlxuICAgIGNvbnN0IG5ld2N0YWcgPSBPYmplY3Qua2V5cyhjb21wb25lbnQpWzBdO1xuICAgIGNvbnN0IG5ld2NuYW1lID0gbmV3Y3RhZy5yZXBsYWNlKC9bXmEtekEtejAtOV0vZywgJycpO1xuICAgIGNvbnN0IG5ld2MgPSBuZXcgY29tcG9uZW50W25ld2N0YWddKCk7XG5cbiAgICAvLyBDaGVjayBpZiBhIGNvbXBvbmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgYWxyZWFkeSBleGlzdHMgaW4gdGhlIHZpZXc6XG4gICAgY29uc3QgcGF0aCA9IGV4cGxvcmUodmlldywgbmV3Y3RhZyk7XG4gICAgaWYgKHBhdGgpIHtcbiAgICAgIC8vIEdldCBpdHMgaWQgYW5kIHJlbW92ZSBpdDpcbiAgICAgIGlmIChwYXRoW25ld2NuYW1lXSkge1xuICAgICAgICBpZCA9IHBhdGhbbmV3Y25hbWVdLmlkO1xuICAgICAgICBwYXRoW25ld2NuYW1lXSA9IG51bGw7XG4gICAgICAgIHR5cGUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWQgPSBwYXRoLmNvbXBvbmVudHNbbmV3Y25hbWVdLmlkO1xuICAgICAgICBwYXRoLmNvbXBvbmVudHNbbmV3Y25hbWVdID0gbnVsbDtcbiAgICAgICAgdHlwZSA9IDI7XG4gICAgICB9XG4gICAgICBwYXRoLmNMaXN0W25ld2N0YWddID0gbnVsbDtcblxuICAgICAgLy8gR2V0IGl0cyBpZCBhbmQgY2xlYXIgaXQ6XG4gICAgICBjb25zdCB3cmFwcGVyID0gVml6dS52ZG9tXG4gICAgICAgID8gVml6dS52ZG9tLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICBjb25zdCBvbGROb2RlID0gVml6dS52ZG9tXG4gICAgICAgID8gVml6dS52ZG9tLndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZClcbiAgICAgICAgOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gbmV3Yy5yZW5kZXJlZDtcbiAgICAgIG9sZE5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQod3JhcHBlci5maXJzdENoaWxkLCBvbGROb2RlKTtcblxuICAgICAgLy8gQXR0YWNoIHRoZSBuZXcgbm9kZSB0byB2aWV3OlxuICAgICAgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgcGF0aFtuZXdjbmFtZV0gPSBuZXdjO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0aC5jb21wb25lbnRzW25ld2NuYW1lXSA9IG5ld2M7XG4gICAgICB9XG4gICAgICBwYXRoLmNMaXN0W25ld2N0YWddID0gY29tcG9uZW50W25ld2N0YWddO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRXh0ZW5kcyB0aGUgY2xhc3MgQ29tcG9uZW50LlxuICAgKlxuICAgKiBAbWV0aG9kIChhcmcxKVxuICAgKiBAcHVibGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgICB0aGUgbWV0aG9kcyB0byBhZGQgdG8gQ29tcG9uZW50LFxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAgcmV0dXJucyB0aGUgZXh0ZW5kZWQgY2xhc3MgY29tcG9uZW50LFxuICAgKiBAc2luY2UgMC4wLjNcbiAgICovXG4gIGNyZWF0ZUNsYXNzKG1ldGhvZHMpIHtcbiAgICAvLyBDaGVjayB0aGF0IG1ldGhvZHMgaXMgYW4gb2JqZWN0OlxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobWV0aG9kcykgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IGtleXM6XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG1ldGhvZHMpO1xuICAgIGNvbnN0IG8gPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG8ucHVzaCh7XG4gICAgICAgIGtleToga2V5c1tpXSxcbiAgICAgICAgdmFsdWU6IG1ldGhvZHNba2V5c1tpXV0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3N1YkNsYXNzKENvbXBvbmVudCwgbyk7XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBWaXp1O1xuIl19"}